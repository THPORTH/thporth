<!DOCTYPE html>
<html lang="en">
  <head>
	  <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script> <!-- ✅ NEW -->
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore-compat.js"></script>
    <!-- Luxon for date/time handling - MOVED HERE to ensure it loads before dependent scripts -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.x/build/global/luxon.min.js"></script>

   <script>
  const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
  const host    = location.hostname; // e.g. "thporth.com" or "www.thporth.com"
  if ( isMobile && !host.startsWith("m.") ) {
    // build the mobile host dynamically
    const mobileHost = "m." + host.replace(/^www\\./, "");
    location.replace(
      location.protocol + "//" +
      mobileHost +
      location.pathname +
      location.search +
      location.hash
    );
  }
</script>
	 <style>
      /* RESTORED: Original CSS for news tabs */
      .news-tab[data-tab="fantasy"],
      .news-tab[data-tab="transactions"],
      #fantasy-feed,
      #transactions-feed {
        display: none !important;
      }
    </style>
	  


    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CBFZXZSG19"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CBFZXZSG19');
</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Get the latest sports news, social buzz, and live scores for NFL, NBA, MLB, and more — all in one place.">
    <meta name="robots" content="index, follow" />
    <title>THPORTH | All the latest sports news</title>
   
<link rel="icon" type="image/png" href="https://github.com/THPORTH/thporth/blob/main/thporth_AllSportsNews_logo-white.png?raw=true" />
  
    <link rel="canonical" href="https://www.thporth.com/" />
    
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thporth.com/" />
<meta property="og:title" content="THPORTH | All the latest sports news" />
<meta property="og:description" content="Get the latest sports news, social buzz, and live scores for NFL, NBA, MLB, and more — all in one place." />
<meta property="og:image" content="https://github.com/ajolly2/ajolly2.github.io/blob/master/thporth_AllSportsNews_logo-red.png?raw=true" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content="https://www.thporth.com/" />
<meta name="twitter:title" content="THPORTH | All the latest sports news" />
<meta name="twitter:description" content="Get the latest sports news, social buzz, and live scores for NFL, NBA, MLB, and more — all in one place." />
<meta name="twitter:image" content="https://github.com/ajolly2/ajolly2.github.io/blob/master/thporth_AllSportsNews_logo-red.png?raw=true" />
   <style>
  /* ────────────────────────────────────────────────────────── */
  /* Global Resets                        */
  /* ────────────────────────────────────────────────────────── */
  html,
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: Arial, sans-serif;
    background-color: #151515;
    color: white;
  }

  ul,
  li {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .spacer-line {
    height: 10px;
  }

/* --- CSS FROM testing_testing-3.html (Live Games Viewer) --- */
.league-section {
    margin-bottom: 3rem; /* Adjusted from 16px to 3rem for better spacing */
}
.league-title { /* Renamed from .league-header to .league-title for clarity within this context */
    font-size: 14px;
    margin-bottom: 1rem;
    border-bottom: 2px solid #555;
    padding-bottom: 0.3rem;
    padding-left: 10px;
    background-color: #2a2a2a; /* Inherited from .league-header in index-7 */
    color: #e0e0e0; /* Inherited from .league-header in index-7 */
    padding: 0.75rem 1rem; /* Inherited from .league-header in index-7 */
    font-weight: 600; /* Inherited from .league-header in index-7 */
    border-top: 1px solid #4a4a4a; /* Inherited from .league-header in index-7 */
    /* border-radius: 0.5rem; /* Inherited from .league-header in index-7 */
    /* box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* Inherited from .league-header in index-7 */
    margin-top: 32px; /* Inherited from .league-header in index-7 */
}
.league-title:first-child {
    margin-top: 10px;
}
.game-table td {
    padding: 4px 10px; /* Default cell padding */
    vertical-align: top;
    font-size: 12px; /* Set a single font size for all cells */
}
.game-table td:nth-child(1) { /* First column (time/status) */
    width: 90px;
    min-width: 90px;
    text-align: left;
}
.game-table td:nth-child(3) { /* Third column (score) */
    width: 40px;
    min-width: 40px;
    text-align: right;
	font-size: 12px;
}
.game-table td:nth-child(4) { /* Fourth column (empty spacer) */
    width: 10px;
    min-width: 10px;
	font-size: 10px;
}
.game-row {
    /* No border-bottom here for individual team rows */
}
.game-separator {
    border-bottom: 1px solid #333; /* Apply border only to the second row of each game */
    margin-bottom: 8px; /* Add some space between games */
}
.error {
    color: red;
}
/* --- END CSS FROM testing_testing-3.html --- */


/* --- EXISTING CSS FROM index-7.html (merged and adjusted) --- */
/* Loading indicator styling */
.loading-indicator {
    display: none; /* flex */
    flex-direction: column; /* flex-col */
    align-items: center; /* items-center */
    justify-content: center; /* justify-center */
    padding: 2.5rem; /* p-10 */
    color: #9ca3af; /* text-gray-400 */
}
.loading-spinner {
    display: none;
    animation: spin 1s linear infinite; /* animate-spin */
    height: 2.5rem; /* h-10 */
    width: 2.5rem; /* w-10 */
    color: #60a5fa; /* text-blue-400 */
    margin-bottom: 0.75rem; /* mb-3 */
}
.loading-text {
   display: none;
    font-size: 1.125rem; /* text-lg */
    line-height: 1.75rem; /* leading-7 */
}
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Error message styling */
.error-message {
     display: none;
    background-color: #991b1b; /* bg-red-800 */
    border-width: 1px; /* border */
    border-color: #dc2626; /* border-red-600 */
    color: #fecaca; /* text-red-200 */
    padding: 0.75rem 1rem; /* py-3 px-4 */
    border-radius: 0.25rem; /* rounded */
    position: relative; /* relative */
    margin-top: 1rem; /* mt-4 */
}
.error-message strong {
    font-weight: 700; /* font-bold */
}
.error-message span {
    display: block; /* block */
}
@media (min-width: 640px) { /* sm:inline */
    .error-message span {
        display: inline;
    }
}

/* League section styling (from index-7, for general structure) */
/* .league-section { margin-bottom: 16px; } */ /* Overridden by testing_testing-3.html's 3rem */
/* .league-section:last-child { margin-bottom: 16px; } */ /* Overridden */

/* League header styling (from index-7, now applies to .league-title) */
/* .league-header { ... } */ /* Renamed to .league-title and merged */


/* Game entries wrapper (from index-7, for overall structure) */
.game-entry-wrapper {
    border-radius: 0.5rem; /* rounded-lg */
    border-width: 1px; /* border */
    border-color: #374151; /* border-gray-700 */
    overflow: hidden; /* overflow-hidden */
    background-color: #1f1f1f; /* bg-gray-800 */
    padding-bottom: 32px;
    margin-bottom: 32px;
}
.game-entry-wrapper .game-entry:not(:last-child) {
    border-bottom: 1px solid #374151; /* divide-y divide-gray-700 */
    margin-bottom: 0;
}

/* Individual game entry styling (from index-7, now applies to .game-entry) */
.game-entry {
    display: flex; /* flex */
    align-items: center; /* items-center */
    padding-top: 0; /* py-2 */
    padding-bottom: 0; /* py-2 */
    padding-left: 3px; /* px-4 */
    margin-left: 0;
    padding-right: 3px; /* px-4 */
}
.game-entry:hover {
    background-color: #374151; /* hover:bg-gray-700 */
}

/* Status cell styling */
.status-finished {
    color: #22c55e; /* text-green-500 */
}
.status-live {
    color: #ef4444; /* text-red-500 */
}
.status-scheduled {
    color: #a0a0a0; /* text-gray-400 */
}

/* Time cell styling (from index-7, now applies to .time-cell) */
/* Time cell styling */
.time-cell {
    /* font-weight: 500; /* Medium weight */
    text-align: left !important; /* Ensure left alignment */
    width: 50px; /* Fixed width for time */
    flex-shrink: 0;
    padding-right: 0 !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
    color: #e0e0e0 !important; /* Changed to !important to ensure override */
    font-size: 10px !important; /* Changed font size and added !important */
}

/* Game details (teams) styling */
.game-details {
    flex-grow: 1; /* flex-grow */
    padding-left: 3px; /* padding-left */
    padding-right: 3px; /* padding-right */
    color: #e5e7eb !important; /* Changed to !important to ensure override */
}
.team-name {
    font-size: 11px !important; /* Changed font size and added !important */
    line-height: 1.2; /* Adjusted line height for tighter spacing */
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 0 !important;
}

/* Game scores styling */
.game-scores {
    text-align: right; /* text-right */
    padding-right: 1rem; /* padding-right */
    width: 20px; /* fixed width */
    flex-shrink: 0; /* flex-shrink-0 */
    color: #e5e7eb !important; /* Changed to !important to ensure override */
}
.score-value {
    font-size: 11px !important; /* Changed font size and added !important */
    line-height: 1.2; /* Adjusted line height for tighter spacing */
    padding-top: 0.25rem;
    padding-bottom: 0.25rem;
}
/* Game channel styling (from index-7, now applies to .game-channel) */
.game-channel {
    text-align: right; /* text-right */
    width: 100px; /* fixed width */
    flex-shrink: 0; /* flex-shrink-0 */
    padding-right: 1rem; /* padding-right */
    color: #9ca3af; /* text-gray-400 */
    font-size: 0.875rem; /* text-sm */
    line-height: 1.25rem; /* leading-5 */
}

/* Custom scrollbar for overflow-y-auto */
.column.tv-listings::-webkit-scrollbar,
.games-content::-webkit-scrollbar,
.game-entry-wrapper::-webkit-scrollbar,
#league-specific-column::-webkit-scrollbar { /* Added new column */
    width: 8px;
}
.column.tv-listings::-webkit-scrollbar-thumb,
.games-content::-webkit-scrollbar-thumb,
.game-entry-wrapper::-webkit-scrollbar-thumb,
#league-specific-column::-webkit-scrollbar-thumb { /* Added new column */
    background-color: #4a4a4a; /* Darker gray */
    border-radius: 4px;
}
.column.tv-listings::-webkit-scrollbar-track,
.games-content::-webkit-scrollbar-track,
.game-entry-wrapper::-webkit-scrollbar-track,
#league-specific-column::-webkit-scrollbar-track { /* Added new column */
    background-color: #2a2a2a; /* Even darker gray */
}

/* ────── Today's MLB Games widget (scoped) ────── */
/* This section from index-7.html is now largely superseded by the new structure,
   but keeping it here for reference and in case any specific overrides are still desired.
   The new structure uses .league-section, .game-table, .game-row, .team-cell, etc. */
#tv-listings-today #todayGamesWrapper .game-row {
  display: grid;
  /* col1=time • col2=teams • col3=scores • col4=channel */
  grid-template-columns: 55px 1fr 15px 30px;
  align-items: center;
  padding: 0;
  /* border-bottom: 1px solid #333; */ /* Removed as per new game-separator logic */
  font-size: 13px;
  margin-bottom: 0;
}

#tv-listings-today #todayGamesWrapper .time {
  color: #ccc;
}
#tv-listings-today #todayGamesWrapper .time.live {
  color: #DC143C;
  font-weight: bold;
}

#tv-listings-today #todayGamesWrapper .teams {
  display: flex;
  flex-direction: column;
  padding-left: 8px;
}

#tv-listings-today #todayGamesWrapper .team-name {
  line-height: 17px;
}

#tv-listings-today #todayGamesWrapper .score-cell {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-variant-numeric: tabular-nums;
}

#tv-listings-today #todayGamesWrapper .channel-cell {
  text-align: right;
  font-size: 12px;
}
#tv-listings-today #todayGamesWrapper .channel-cell a {
  color: #99f;
  text-decoration: none;
}
#tv-listings-today #todayGamesWrapper .channel-cell a:hover {
  text-decoration: underline;
}

/* ──────────────────────────────────────────────── */
  /* ────────────────────────────────────────────────────────── */
  /* Top Bars                          */
  /* ────────────────────────────────────────────────────────── */
  #topBar {
    width: 100%;
    height: 18px;
    background-color: #3c3c3c;
  }

  #topDivider {
    width: 100%;
    height: 2px;
    background-color: #151515;
  }

  #topBar,
  #topDivider {
    width: 100%;
    max-width: 1415px;
    margin: 0 auto;
    box-sizing: border-box;
  }

  /* ────────────────────────────────────────────────────────── */
  /* Layout Containers                    */
  /* ────────────────────────────────────────────────────────── */
  .container {
    display: flex;
    width: 100%;
    height: calc(100% - 20px); /* account for topBar + topDivider */
    justify-content: center;
  }

  .column {
    overflow: auto;
    padding: 0;
  }

  .column.tv-listings {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
  }

  .column.tv-listings * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  .main-menu {
    background-color: #151515;
    color: white;
    flex: 0 0 165px;
    font-size: 11px;
    padding: 0;
  }

  .divider {
    flex: 0 0 4px;
    background-color: #151515;
  }

  .news {
    flex: 0 0 370px; /* reduced to accommodate 110px Standings panel */
    background-color: #fafaf9;
    padding: 0;
  }

  .social {
    flex: 0 0 350px;
    background-color: #fff;
  }

  /* ────────────────────────────────────────────────────────── */
  /* Main‐Menu Styling                     */
  /* ────────────────────────────────────────────────────────── */
  #menuTopBox {
    width: 165px;
    height: 18px;
    background-color: #3c3c3c;
    padding-left: 2px;
    display: flex;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 2;
  }

  #menuTopBox img {
    height: 18px;
    display: block;
  }

  #menuSearch {
    width: 165px;
    height: 18px;
    box-sizing: border-box;
    margin-top: 2px;
    margin-bottom: 2px;
    background-color: #000;
    color: #fff;
    border: 1px solid #3c3c3c;
    padding: 2px 5px 2px 25px;
    font-size: 10px;
    background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjYzRjNGM0IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49ImJldmVsIj48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ij48L2NpcmNsZT48bGluZSB4MT0iMjEiIHkxPSIyMSIgeDI9IjE2LjY1IiB5Mj0iMTYuNjUiPjwvbGluZT48L3N2Zz4=')
      no-repeat 5px center;
    background-size: 14px 14px;
  }

  #menuFilters {
    width: 165px;
    display: flex;
    margin-bottom: 10px;
  }

  .menu-filter {
    flex: 1;
    text-align: center;
    padding: 1px;
    border: 1px solid #444;
    background-color: #222;
    font-size: 9px;
    font-family: Helvetica, Arial, sans-serif;
    cursor: pointer;
    color: #fff;
  }

  .menu-filter.active {
    background-color: #3c3c3c;
    color: white;
    border-color: #3c3c3c;
  }

  .selected {
    font-weight: bold;
    background-color: #3c3c3c;
    color: white;
  }

  #menuList ul {
    padding-left: 0;
    padding-top: 0;
    margin: 0;
  }

  #menuList li {
    cursor: pointer;
    padding: 3px 0;
  }

  .nested {
    margin-left: 10px;
  }

  .nested li {
    margin-left: 10px;
  }

  #newsSubMenu {
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 10;
    background-color: #3f3f3f;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 10px;
    height: 18px;
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0;
    margin: 0;
  }

  .news-menu-item {
    line-height: 18px;
    height: 18px;
    padding: 0 8px; /* Adjust horizontal only */
    display: flex;
    align-items: center;
    box-sizing: border-box;
  }

  .news-menu-item.active {
    background-color: black;
    color: white;
  }

  /* ────────────────────────────────────────────────────────── */
  /* RSS‐Feed Links                       */
  /* ────────────────────────────────────────────────────────── */
  .news .rss-feed {
    padding-left: 10px;
  }

  .rss-feed a {
    font-family: Helvetica, Arial, sans-serif;
    font-size: 11px;
    color: black;
    text-decoration: none;
  }

  .rss-feed a.clicked {
    color: lightgray;
  }

  .rss-feed ul li {
    border-bottom: 1px solid #C9C8C7;
    padding: 5px 0;
  }

  .rss-feed ul li:last-child {
    border-bottom: none;
  }

  .rss-feed h4 {
    color: black;
  }

  .rss-feed {
    background-color: #fafaf9;
  }

  .content-section {
    display: none;
    padding: 0;
  }

  .expand-button {
    background-color: #3c3c3c;
    color: white;
    border: none;
    padding: 6px 10px;
    font-size: 11px;
    cursor: pointer;
    margin-top: 8px;
  }

  .expand-button:hover {
    background-color: #555;
  }

  /* ────────────────────────────────────────────────────────── */
  /* News Column (Split Scroll Areas)          */
  /* ────────────────────────────────────────────────────────── */

 /* ────────────────────────────────────────────────────────── */
/* News Column (Split Scroll Areas) - REVISED AND CORRECTED    */
/* ────────────────────────────────────────────────────────── */

/* 1) Main News Column. Remove all padding to make content flush with edges. */
.column.news {
    flex: 0 0 370px !important;
    background-color: #fafaf9 !important;
    padding: 0 !important;
}

/* 2) Main container for both headlines and breaking news sections.
      It needs to fill the full available height of the news column minus the header. */
.news-main-container {
    display: flex !important;
    flex-direction: column !important;
    height: calc(100% - 18px) !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* 3) The Headlines section container. It's now a horizontal tab layout. */
.headlines-section {
    flex: 0 0 60% !important;
    display: flex !important;
    flex-direction: column !important;
    border-bottom: 2px solid #d4d4d4 !important;
    min-height: auto !important;
    max-height: 60% !important;
    overflow: hidden !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* 4) The "Headlines" header bar. Ensure it has no top margin/padding issues. */
.headlines-section .news-section-header {
    position: sticky !important;
    top: 0 !important;
    z-index: 29 !important;
    background: #3c3c3c !important;
    color: #fff !important;
    font-family: Helvetica, Arial, sans-serif !important;
    font-size: 12px !important;
    height: 18px !important;
    display: flex !important;
    align-items: center !important;
    padding: 0 10px !important;
    border-bottom: 1px solid #2a2a2a !important;
    font-weight: bold !important;
    letter-spacing: 0.5px !important;
    margin: 0 !important;
}

	   /*
  This is the corrected CSS to ensure the proper layout for both the
  home page's horizontal tabs and the league pages' vertical tabs.
*/

/* 5) The horizontal tabs container (used for the Home page). */
#headlines-tabs {
    position: sticky !important;
    top: 18px !important;
    z-index: 28 !important;
    display: flex !important;
    height: 18px !important;
    background-color: #2a2a2a !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* 11) New styles for the tabs themselves (Home page style). */
#headlines-tabs .headlines-tab {
    flex: 1 !important;
    text-align: center !important;
    font-size: 10px !important;
    line-height: 18px !important;
    color: #aaa !important;
    cursor: pointer !important;
    background-color: #2a2a2a !important;
    border-right: 1px solid #1f1f1f !important;
    margin: 0 !important;
    padding: 0 !important;
}

#headlines-tabs .headlines-tab:last-child {
    border-right: none !important;
}

#headlines-tabs .headlines-tab.active {
    background-color: #3c3c3c !important;
    color: #fff !important;
}

/* New styles for the vertical tabs on league pages. */
.headlines-tabs-column {
    display: flex !important;
    flex-direction: column !important; /* Forces vertical stacking */
    overflow-y: auto !important;
    background-color: #1f1f1f !important;
    width: 20% !important;
    flex-shrink: 0 !important;
    padding: 0 !important;
}
  
.headlines-tabs-column .headlines-tab {
    display: block !important;
    width: 100% !important;
    padding: 10px 15px !important;
    text-align: left !important;
    font-size: 10px !important;
    background-color: #151515 !important;
    color: white !important;
    border-bottom: 1px solid #444 !important;
    cursor: pointer !important;
    transition: background-color 0.2s !important;
    margin: 0 !important;
}
  
.headlines-tabs-column .headlines-tab:hover {
    background-color: #555 !important;
}
  
.headlines-tabs-column .headlines-tab.active {
    background-color: #333 !important;
    font-weight: bold !important;
}

/* Rule to make the default color of the links black */
.news-feed-content ul li a {
    color: black;
    text-decoration: none; /* Keeps the links from being underlined */
}

/* Rule for when a link has been visited (clicked) */
.news-feed-content ul li a:visited {
    color: lightgray;
}


	     /* 5a) ESPN feed-entry styling */
 /* Apply identical styling to ESPN, CBS, Yahoo and FOX feeds */
#espn-feed ul,
#cbs-feed ul,
#yahoo-feed ul,
#fox-feed ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#espn-feed ul li,
#cbs-feed ul li,
#yahoo-feed ul li,
#fox-feed ul li {
  margin-bottom: 0.5em;
}

#espn-feed ul li a,
#cbs-feed ul li a,
#yahoo-feed ul li a,
#fox-feed ul li a {
  color: black;
  text-decoration: none;
  line-height: 1;
  word-break: break-word;
}

#espn-feed ul li a:visited,
#cbs-feed ul li a:visited,
#yahoo-feed ul li a:visited,
#fox-feed ul li a:visited {
  color: lightgray;
}

	  /*
  This is the corrected CSS to apply identical styling to the breaking news feed.
  It uses `!important` to override any conflicting inline or lower-specificity rules.
*/

/* Apply identical styling to breaking news feed as the headlines feeds */
#breaking-feed ul {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

#breaking-feed ul li {
    margin-bottom: 0.5em !important;
    padding: 0 !important; /* Ensure no padding on the li itself */
	font-size: 12px;
	border-bottom: 1px solid #C9C8C7;
}

#breaking-feed ul li a {
    color: black !important;
    text-decoration: none !important;
    line-height: 1 !important;
    word-break: break-word !important;
    padding: 5px 10px !important; /* Add padding here for space around the link text */
	font-size: 12px;
}

#breaking-feed ul li a:visited {
    color: lightgray !important;
	font-size: 12px;
}


/* 6) The news feed content area. This needs to be padding-free. */
.headlines-section .news-feed-content {
    flex: 1 1 auto !important;
    overflow-y: auto !important;
    padding: 0 !important;
    background: #fafaf9 !important;
    font-size: 11px !important;
    color: #111 !important;
    margin: 0 !important;
}

/* 7) Ensure list items have padding for readability after removing container padding. */
.headlines-section .news-feed-content ul {
    list-style: none !important;
    padding: 0 10px !important;
    margin: 0 !important;
}

.headlines-section .news-feed-content ul li {
    padding: 5px 0 !important;
    border-bottom: 1px solid #C9C8C7;
    margin: 0 !important;
}

/* 8) Breaking news section. Ensure it fills the rest of the available height. */
  .breaking-section {
    flex: 1 1 40%;
    display: flex;
    flex-direction: column;
    min-height: 80px;
    max-height: 40%;
    overflow: auto !important;
  }


 /* 6) "Breaking" header pinned at top of breaking-section */
  .breaking-section .news-section-header {
    position: sticky;
    top: 0; /* directly at top of breaking-section (under headlines-section) */
    z-index: 27;
    background: #3c3c3c;
    color: #fff;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 12px;
    height: 18px;
    display: flex;
    align-items: center;
    padding: 0 10px;
    border-bottom: 1px solid #ccc;
    font-weight: bold;
    letter-spacing: 0.5px;
  }

	     /* 7) Breaking │ Fantasy │ Transactions tabs pinned under "Breaking" header */
  .breaking-tabs-header {
    position: sticky;
    top: 18px; /* just under the 18px-high "Breaking" header */
    z-index: 26;
    display: flex;
    gap: 0;
    padding: 0;
    height: 18px;
    background-color: #3c3c3c;
  }


/* 10) The Breaking News content. Adjust padding. */
.breaking-section .news-feed-content {
    padding: 0 10px !important;
}



  /* ────────────────────────────────────────────────────────── */
  /* TV-Listings (Games) Styling               */
  /* ────────────────────────────────────────────────────────── */
  .column.tv-listings #live-games-container {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* .league-section { margin-bottom: 14px !important; } */ /* Overridden by new CSS */


  /* .league-header { ... } */ /* Overridden by new CSS .league-title */

  /* the wrapper around all the rows for a league */
  .games-list {}

  /* .game-row { ... } */ /* Overridden by new CSS .game-table and .game-row/.game-separator */

  .game-time {
    font-size: 11px;
    color: #ccc;
  
  }

  .game-time.live {
    color: #DC143C !important;
    font-weight: bold;
  }

  .game-time-final {
    padding-left: 12px !important;
    text-align: left !important; /* Make sure it's not being centered */
    color: #ccc; /* or whatever color you want for the F */
    background: none;
  }

.game-teams {
  display: flex;
  flex-direction: column;
  padding-left: 10px;   /* same as old .game-matchup's padding */
  font-size: 11px;
  color: #ccc;
  line-height: 1.2;
}

.game-teams .team {
  margin: 0;
  padding: 0;
}

  .game-channel {
    text-align: right;
    font-size: 11px;
    color: #ccc;
  }

  .games-tab {
    flex: 1;
    text-align: center;
    font-size: 10px;
    line-height: 18px;
    color: #aaa;
    cursor: pointer;
    background-color: #2a2a2a;
    border-right: 1px solid #1f1f1f;
  }

  .games-tab.active {
    background-color: #3c3c3c;
    color: #fff;
  }

  .games-content {
    display: none;
  }

  #tv-listings-scores,
  #tv-listings-today,
  #tv-listings-live {
    padding: 5px;
  }
	   
	   .winner {
  font-weight: bold;
}


  /* ────────────────────────────────────────────────────────── */
  /* Fonts (Owners)                       */
  /* ────────────────────────────────────────────────────────── */
  @font-face {
    font-family: 'Owners';
    src: url('https://www.thporth.com/fonts/Owners-XLight.woff') format('woff');
    font-weight: 200;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners';
    src: url('https://www.thporth.com/fonts/Owners-medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
  }

  /* Owners Wide */
  @font-face {
    font-family: 'Owners Wide';
    src: url('https://www.thporth.com/fonts/OwnersWide-Light.woff') format('woff');
    font-weight: 300;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners Wide';
    src: url('https://www.thporth.com/fonts/OwnersWide-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
  }

  /* Owners XX Wide */
  @font-face {
    font-family: 'Owners XX Wide';
    src: url('https://www.thporth.com/fonts/OwnersXXWide-Light.woff') format('woff');
    font-weight: 300;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners XX Wide';
    src: url('https://www.thporth.com/fonts/OwnersXXWide-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners XX Wide';
    src: url('https://www.thporth.com/fonts/OwnersXXWide-Medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners XX Wide';
    src: url('https://www.thporth.com/fonts/OwnersXXWide-Bold.woff') format('woff');
    font-weight: 700;
    font-style: normal;
  }

  @font-face {
    font-family: 'Owners XXWideXBlack';
    src: url('https://www.thporth.com/fonts/OwnersXXWide-XBlack.woff') format('woff');
    font-weight: 950;
    font-style: normal;
  }
</style>
	  <style>
		  /* ───────────── Header Styling ───────────── */
#resp-header {
  display: none;
  position: sticky;
  top: 0; left: 0; right: 0;
  height: 50px;
  background: #151515;
  z-index: 200;
  padding: 0 10px;
  align-items: center;
  justify-content: space-between;
}
#resp-header img#header-logo {
  height: 30px;
}
#resp-header button {
  background: none;
  border: none;
  color: white;
  font-size: 14px;
  cursor: pointer;
}
#resp-header .hamburger {
  display: block;
  width: 24px; height: 2px;
  background: white;
  position: relative;
}
#resp-header .hamburger::before,
#resp-header .hamburger::after {
  content: "";
  position: absolute;
  width: 24px; height: 2px;
  background: white;
}
#resp-header .hamburger::before { top: -6px; }
#resp-header .hamburger::after  { top:  6px; }

/* ───────────── Overlay Panels ───────────── */
.column.main-menu.open,
.column.tv-listings.open {
  position: absolute;
  top: 50px; /* header height */
  background: #151515;
  z-index: 150;
  height: calc(100vh - 50px);
  overflow-y: auto;
}
.column.main-menu.open {
  left: 0;
  width: 250px;
}
.column.tv-listings.open {
  right: 0;
  width: 250px;
}

/* ─── always honor "open" toggles, even under the smaller-screen hide rules ─── */
.column.main-menu.open {
  display: block !important;
}
.column.tv-listings.open {
  display: block !important;
}

/* ───────────── 900px–1100px "show header + 3 cols" ───────────── */
@media (max-width: 1100px) {
  /* show header */
  #resp-header { display: flex; }

  /* hide main-menu panel until toggled */
  .column.main-menu { display: none; }

  /* keep the three content columns in a row */
  .container {
    display: flex !important;
    flex-direction: row !important;
    height: auto !important;
    overflow-x: auto;
  }
  .column.tv-listings,
  .column.news,
  .column.social {
    display: block;
    flex: 0 0 auto !important;
    width: 250px;
    min-width: 200px;
	  padding: 0;
  }

  /* hide anything else (dividers, other columns) */
  .column:not(.tv-listings):not(.news):not(.social),
  .divider {
    display: none;
  }
}

/* ───────────── 700px–900px "hide games" ───────────── */
/* ───────────── ≤900px "news 80% + social below" ───────────── */
@media (max-width: 900px) {
  /* hide games column */
  .column.tv-listings {
    display: none !important;
  }
  /* header's Games–toggle stays visible */
  #resp-header button#games-toggle {
    display: inline-block;
  }

  /* now stack News above Social */
  .container {
    display: flex !important;
    flex-direction: column !important;
    overflow-x: hidden;
  }

  /* News takes 80% width */
  .column.news {
    display: block !important;
    flex: 0 0 auto !important;
    width: 80% !important;
    min-width: 0;
  }

  /* Social below at full width */
  .column.social {
    display: block !important;
    flex: 0 0 auto !important;
    width: 100% !important;
    min-width: 0;
    margin-top: 10px;
  }
}


/* ───────────── ≤700px "stack news+social" ───────────── */
@media (max-width: 700px) {
  /* everything stacks vertically */
  .container {
    display: flex !important;
    flex-direction: column !important;
  }
  .column.news,
  .column.social {
    width: 100% !important;
    min-width: 0;
  }
}

.game-entry, .game-entry * {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding-top: 0 !important;
  padding-left: 0 !important;
  margin-left: 0 !important;
  padding-bottom: 0 !important;
  line-height: 1.1 !important;
}



</style>

<!-- Add this snippet above closing </head> or integrate into your existing <style> section -->

  </head>
  <body>
	  <header id="resp-header">
  <button id="menu-toggle" aria-label="Open menu">
    <span class="hamburger"></span>
  </button>
  <img src="https://github.com/THPORTH/thporth/blob/main/thporth_AllSportsNews_logo-white.png?raw=true"
       alt="THPORTH" id="header-logo"/>
  <button id="games-toggle">Games</button>
</header>
        <div id="topBar"></div>
    <div id="topDivider"></div>
    <div class="container">
  
     <!-- MAIN MENU COLUMN -->
      <div class="column main-menu">
        <div id="menuTopBox">
          <img
            src="https://www.thporth.com/thporth_AllSportsNews_logo-white.png"
            alt="Logo"
          />
        </div>
        <input type="text" id="menuSearch" placeholder="Search leagues" />
        <div id="menuFilters">
          <span class="menu-filter active" data-filter="123">123</span>
          <span class="menu-filter" data-filter="az">A‑Z</span>
          <span class="menu-filter" data-filter="group">Group</span>
        </div>
        <div id="menuList">
          <!-- 123 FILTER LIST -->
          <ul id="menuList-123" style="margin-top: 0; padding-top: 0;">
            <li data-section="Home" class="selected">Home</li>
            <li data-section="NFL">NFL</li>
            <li data-section="NBA">NBA</li>
            <li data-section="MLB">MLB</li>
            <li data-section="NHL">NHL</li>
            <li data-section="Soccer">
              Soccer
              <ul class="nested">
                <li data-section="UEFAChampionsLeague">UEFA Champions League</li>
                <li data-section="PremierLeague">Premier League</li>
                <li data-section="MLS">MLS</li>
                <li data-section="LaLiga">LaLiga</li>
                <li data-section="SerieA">Serie A</li>
                <li data-section="Bundesliga">Bundesliga</li>
                <li data-section="FACup">FA Cup</li>
                <li data-section="LigaMX">Liga MX</li>
                <li data-section="NWSL">NWSL</li>
                <li data-section="Ligue1">Ligue 1</li>
                <li data-section="UEFAEuropaLeague">UEFA Europa League</li>
                <li data-section="UEFAConferenceLeague">UEFA Conference League</li>
              </ul>
            </li>
            <li data-section="FormulaOne">Formula One</li>
            <li data-section="NCAAF">NCAAF</li>
            <li data-section="PGATour">PGA Tour</li>
            <li data-section="UFC">UFC</li>
            <li data-section="Boxing">Boxing</li>
            <li data-section="NASCARCupSeries">NASCAR Cup Series</li>
            <li data-section="Tennis">Tennis</li>
            <li data-section="WNBA">WNBA</li>
            <li data-section="LIVGolf">LIV Golf</li>
            <li data-section="IndyCar">IndyCar</li>
            <li data-section="NCAAM">NCAAM</li>
            <li data-section="NCAAW">NCAAW</li>
           <!-- <li data-section="UFL">UFL</li> -->
            <li data-section="NCAABaseball">NCAA Baseball</li>
            <li data-section="NCAASoftball">NCAA Softball</li>
            <li data-section="MotoGP">MotoGP</li>
            <li data-section="LPGATour">LPGA Tour</li>
            <li data-section="TrackAndField">Track & Field</li>
          </ul>
          <!-- A‑Z FILTER LIST (Complete) -->
        <ul id="menuList-az" style="display: none;">
            <li data-section="Home">Home</li>
           <!-- <li data-section="AFCChampionsLeagueElite">AFC Champions League Elite</li>
            <li data-section="AFL">AFL</li>
            <li data-section="AfricaCupOfNations">Africa Cup of Nations</li>
            <li data-section="ARCAMenards">ARCA Menards</li>
            <li data-section="ArgentinePrimera">Argentine Primera</li>
            <li data-section="BelgianProLeague">Belgian Pro League</li>
            <li data-section="BigBashLeague">Big Bash League</li> -->
            <li data-section="Boxing">Boxing</li>
          <!--   <li data-section="Brasileirao">Brasileirão</li> -->
            <li data-section="Bundesliga">Bundesliga</li>
         <!--    <li data-section="CAFChampionsLeague">CAF Champions League</li>
            <li data-section="CanadianPremierLeague">Canadian Premier League</li>
            <li data-section="CarabaoCup">Carabao Cup</li>
            <li data-section="CFL">CFL</li>
            <li data-section="CONCACAFChampionsCup">Concacaf Champions Cup</li>
            <li data-section="CONCACAFGoldCup">Concacaf Gold Cup</li>
            <li data-section="CONCACAFNationsLeague">Concacaf Nations League</li>
            <li data-section="CONCACAFWGoldCup">Concacaf W Gold Cup</li>
            <li data-section="CopaDelRey">Copa del Rey</li>
            <li data-section="CopaLibertadores">Copa Libertadores</li>
            <li data-section="CopaSudamericana">Copa Sudamericana</li>
            <li data-section="CoppaItalia">Coppa Italia</li>
            <li data-section="Cricket">Cricket</li>
            <li data-section="Cycling">Cycling</li>
            <li data-section="DFBPokal">DFB-Pokal</li>
            <li data-section="EFLChampionship">EFL Championship</li>
            <li data-section="EuroLeague">EuroLeague</li> -->
            <li data-section="FACup">FA Cup</li>
         <!--    <li data-section="FIFAClubWorldCup">FIFA Club World Cup</li>
            <li data-section="FigureSkating">Figure Skating</li> -->
            <li data-section="FormulaOne">Formula 1</li>
         <!--    <li data-section="Formula2">Formula 2</li>
            <li data-section="Formula3">Formula 3</li>
            <li data-section="Gymnastics">Gymnastics</li>
            <li data-section="HorseRacing">Horse Racing</li> -->
            <li data-section="IndyCar">IndyCar</li>
         <!--    <li data-section="KornFerryTour">Korn Ferry Tour</li> -->
            <li data-section="LaLiga">LaLiga</li>
            <li data-section="LigaMX">Liga MX</li>
         <!--    <li data-section="LigaPortugal">Liga Portugal</li> -->
            <li data-section="Ligue1">Ligue 1</li>
        <!--     <li data-section="LittleLeagueSoftballWorldSeries">Little League Softball</li>
            <li data-section="LittleLeagueWorldSeries">Little League World Series</li> -->
            <li data-section="LIVGolf">LIV Golf</li>
            <li data-section="LPGATour">LPGA Tour</li>
        <!--     <li data-section="MajorLeagueRugby">Major League Rugby</li> -->
            <li data-section="MLB">MLB</li>
            <li data-section="MLS">MLS</li>
          <!--   <li data-section="MMA">MMA</li> -->
            <li data-section="MotoGP">MotoGP</li>
            <li data-section="NASCARCupSeries">NASCAR Cup Series</li>
            <li data-section="NBA">NBA</li>
         <!--    <li data-section="NBAGLeague">NBA G League</li>
            <li data-section="NCAAB">NCAAB</li> -->
            <li data-section="NCAAF">NCAAF</li>
            <li data-section="NCAAM">NCAAM</li>
            <li data-section="NCAAW">NCAAW</li>
            <li data-section="NCAABaseball">NCAA Baseball</li>
        <!--     <li data-section="NCAAMensHockey">NCAA Men's Hockey</li> -->
            <li data-section="NCAASoftball">NCAA Softball</li>
            <li data-section="NFL">NFL</li>
            <li data-section="NHL">NHL</li>
         <!--    <li data-section="NHRA">NHRA</li> -->
          <li data-section="NWSL">NWSL</li>
          <!--  <li data-section="Olympics">Olympics</li>
            <li data-section="PGAChampions">PGA Champions</li> -->
            <li data-section="PGATour">PGA Tour</li>
          <li data-section="PremierLeague">Premier League</li>
         <!--    <li data-section="PremiershipRugby">Premiership Rugby</li>
            <li data-section="SaudiProLeague">Saudi Pro League</li>
            <li data-section="ScottishPremiership">Scottish Premiership</li> -->
      <li data-section="SerieA">Serie A</li>
              <li data-section="Soccer">Soccer</li>
            <li data-section="Tennis">Tennis</li>
         <!--   <li data-section="TGL">TGL</li> -->
            <li data-section="TrackAndField">Track & Field</li>
<!--
            <li data-section="USOpenCup">U.S. Open Cup</li> -->
            <li data-section="UFC">UFC</li>
            <!--<li data-section="UFL">UFL)-->
            <li data-section="UEFAChampionsLeague">UEFA Champions League</li>
            <li data-section="UEFAConferenceLeague">UEFA Conference League</li>
            <li data-section="UEFAEuropaLeague">UEFA Europa League</li>
        <!--      <li data-section="UEFANationsLeague">UEFA Nations League</li>
            <li data-section="UEFAWChampionsLeague">UEFA W Champions League</li>
            <li data-section="Volleyball">Volleyball</li> -->
            <li data-section="WNBA">WNBA</li>
           <!--   <li data-section="WomensSuperLeague">Women's Super League</li>
            <li data-section="XGames">X Games</li> -->
            <li class="spacer-line"></li>
            <li class="spacer-line"></li>
            <li class="spacer-line"></li>
          </ul>
          <!-- GROUP FILTER LIST -->
          <ul id="menuList-group" style="display: none;">
          <li data-section="Home"><span style="font-weight: bold;">Home</span></li>            
            <li class="spacer-line"></li>
            <li><strong>FOOTBALL</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="NFL">NFL</li>
               <!-- <li data-section="NCAAF">NCAAF</li> -->
             <!-- <li data-section="UFL">UFL)-->
              <!-- <li data-section="CFL">CFL)-->
            </ul>
            <li class="spacer-line"></li>
            <li><strong>BASEBALL</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="MLB">MLB</li>
              <li data-section="NCAABaseball">NCAA Baseball</li>
              <!-- <li data-section="LittleLeagueWorldSeries">Little League World Series</li> -->
            </ul>
            <li class="spacer-line"></li>
            <li><strong>BASKETBALL</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="NBA">NBA</li>
              <li data-section="WNBA">WNBA</li>
              <li data-section="NCAAM">NCAAM</li>
              <li data-section="NCAAW">NCAAW</li>
             <!--  <li data-section="NBAGLeague">NBA G League</li> -->
             <!--  <li data-section="EuroLeague">EuroLeague</li> -->
            </ul>
            <li class="spacer-line"></li>
            <li data-section="Soccer"><span style="font-weight: bold;">SOCCER</span></li>
            <ul style="padding-left: 10px;">
              <li data-section="UEFAChampionsLeague">UEFA Champions League</li>
              <li data-section="PremierLeague">Premier League</li>
              <li data-section="MLS">MLS</li>
              <li data-section="LaLiga">LaLiga</li>
              <li data-section="SerieA">Serie A</li>
              <li data-section="Bundesliga">Bundesliga</li>
              <li data-section="FACup">FA Cup</li>
              <li data-section="LigaMX">Liga MX</li>
              <li data-section="NWSL">NWSL</li>
              <li data-section="Ligue1">Ligue 1</li>
              <li data-section="UEFAEuropaLeague">UEFA Europa League</li>
              <li data-section="UEFAConferenceLeague">UEFA Conference League</li>
             <!--  <li class="soccer-more-toggle" style="cursor: pointer; color: #bebebe;" onclick="toggleSoccerMore()">More…</li>
            </ul>
            <div id="soccer-more" style="display: none;">
              <ul style="padding-left: 10px;">
                <li data-section="CarabaoCup">Carabao Cup</li>
                <li data-section="UEFANationsLeague">UEFA Nations League</li>
                <li data-section="CONCACAFNationsLeague">Concacaf Nations League</li>
                <li data-section="SaudiProLeague">Saudi Pro League</li>
                <li data-section="EFLChampionship">EFL Championship</li>
                <li data-section="CopaDelRey">Copa del Rey</li>
                <li data-section="FIFAClubWorldCup">FIFA Club World Cup</li>
                <li data-section="Brasileirao">Brasileirão</li>
                <li data-section="AFCChampionsLeagueElite">AFC Champions League Elite</li>
                <li data-section="CopaLibertadores">Copa Libertadores</li>
                <li data-section="CONCACAFGoldCup">Concacaf Gold Cup</li>
                <li data-section="CONCACAFWGoldCup">Concacaf W Gold Cup</li>
                <li data-section="CopaSudamericana">Copa Sudamericana</li>
                <li data-section="CanadianPremierLeague">Canadian Premier League</li>
                <li data-section="CoppaItalia">Coppa Italia</li>
                <li data-section="DFBPokal">DFB-Pokal</li>
                <li data-section="ScottishPremiership">Scottish Premiership</li>
                <li data-section="UEFAWChampionsLeague">UEFA W Champions League</li>
                <li data-section="CAFChampionsLeague">CAF Champions League</li>
                <li data-section="AfricaCupOfNations">Africa Cup of Nations</li>
                <li data-section="CONCACAFChampionsCup">Concacaf Champions Cup</li>
                <li data-section="ArgentinePrimera">Argentine Primera</li>
                <li data-section="BelgianProLeague">Belgian Pro League</li>
                <li data-section="WomensSuperLeague">Women's Super League</li>
                <li data-section="LigaPortugal">Liga Portugal</li>
                <li data-section="USOpenCup">U.S. Open Cup</li>
              </ul>
            </div> -->
            <li class="spacer-line"></li>
            <li><strong>HOCKEY</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="NHL">NHL</li>
             <!--  <li data-section="NCAAMensHockey">NCAA Men's Hockey</li> -->
            </ul>
            <li class="spacer-line"></li>
            <li><strong>MOTORSPORTS</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="FormulaOne">Formula 1</li>
              <li data-section="NASCARCupSeries">NASCAR Cup Series</li>
              <li data-section="IndyCar">IndyCar</li>
              <li data-section="MotoGP">MotoGP</li>
           <!--    <li data-section="NHRA">NHRA</li>
              <li data-section="NASCARXfinitySeries">NASCAR Xfinity Series</li>
              <li data-section="NASCARTruckSeries">NASCAR Truck Series</li>
              <li data-section="Formula2">Formula 2</li>
              <li data-section="Formula3">Formula 3</li>
              <li data-section="ARCAMenards">ARCA Menards</li> -->
            </ul>
            <li class="spacer-line"></li>
            <li><strong>GOLF</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="PGATour">PGA Tour</li>
              <li data-section="LIVGolf">LIV Golf</li>
           <!--    <li data-section="TGL">TGL</li> -->
              <li data-section="LPGATour">LPGA Tour</li>
         <!--      <li data-section="PGAChampions">PGA Champions</li>
              <li data-section="DPWorldTour">DP World Tour</li>
              <li data-section="KornFerryTour">Korn Ferry Tour</li> -->
            </ul>
            <li class="spacer-line"></li>
            <li><strong>FIGHTING</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="UFC">UFC</li>
              <li data-section="Boxing">Boxing</li>
            <!--   <li data-section="MMA">MMA</li> -->
            </ul>
            <li class="spacer-line"></li>
           <!--  <li><strong>TENNIS</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="ATP">ATP</li>
              <li data-section="WTA">WTA</li>
            </ul> 
            <li class="spacer-line"></li> -->
            <li><strong>SOFTBALL</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="NCAASoftball">NCAA Softball</li>
             <!--  <li data-section="LittleLeagueSoftballWorldSeries">Little League Softball</li> -->
            </ul>
            <li class="spacer-line"></li>
              <!-- Placeholder for Tennis for right now until new leagues are added 
              <ul style="padding-left: 10px;">
              <li data-section="Tennis">Tennis</li>
            </ul> -->
           <!--  <li><strong>RUGBY</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="RugbyUnion">Rugby Union</li>
              <li data-section="PremiershipRugby">Premiership Rugby</li>
              <li data-section="MajorLeagueRugby">Major League Rugby</li>
            </ul>
            <li class="spacer-line"></li>
            <li><strong>CRICKET</strong></li>
            <ul style="padding-left: 10px;">
              <li data-section="BigBashLeague">Big Bash League</li>
            </ul> 
            <li class="spacer-line"></li>-->
            <li><strong>OTHER</strong></li>
            <ul style="padding-left: 10px;">
<!--
              <li data-section="AFL">AFL</li>
              <li data-section="Cycling">Cycling</li>
              <li data-section="FigureSkating">Figure Skating</li>
              <li data-section="Gymnastics">Gymnastics</li>
              <li data-section="HorseRacing">Horse Racing</li>
              <li data-section="Olympics">Olympics</li> -->
             <li data-section="TrackAndField">Tennis</li>
              <li data-section="TrackAndField">Track & Field</li>
               <!--
              <li data-section="Volleyball">Volleyball</li>
              <li data-section="XGames">XGames</li>  -->
              <li class="spacer-line"></li>
              <li class="spacer-line"></li>
              <li class="spacer-line"></li>
            </ul>
          </ul>
        </div>
      </div>


      <!-- Divider between main menu and standings -->
<div class="divider"></div>

<!-- ─── TV-LISTINGS COLUMN (Default View) ──────────────────────────────────────── -->
<div class="column tv-listings" id="games-column" style="flex: 0 0 250px; background-color: #1f1f1f;">
  <!-- This is the original Games content container -->
  <div id="tv-listings-container" style="display: block;">
    <div id="games-header" style="
        position: sticky; top: 0; width: 100%; height: 18px;
        background-color: #3c3c3c; font-family: Helvetica, Arial, sans-serif;
        font-size: 10px; display: flex; align-items: center;
        padding-left: 1px; z-index: 11; border-bottom: 1px solid #1f1f1f;
      ">
      <strong>Games</strong>
    </div>

    <div id="games-tabs" style="display: flex; height: 18px; background-color: #2a2a2a;">
      <div class="games-tab active" data-tab="scores">SCORES</div>
      <div class="games-tab" data-tab="today">TODAY</div>
      <div class="games-tab" data-tab="live">LIVE</div>
    </div>
    <!-- SCORES TAB -->
    <div id="tv-listings-scores" class="games-content" style="display: block;">
      <div id="scoresWrapper">
        <!-- Loading Indicator for Scores -->
        <div id="scoresLoading" class="loading-indicator hidden">
          <svg class="loading-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <p class="loading-text">Loading yesterday's scores...</p>
        </div>

        <!-- Error Message for Scores -->
        <div id="scoresErrorMessage" class="error-message hidden" role="alert">
          <strong>Error!</strong>
          <span id="scoresErrorText"></span>
        </div>

        <!-- Score content injected here -->
        <div id="dynamicScoresContent"></div>
      </div>
    </div>

    <!-- TODAY TAB - Content from testing_testing-3.html goes here -->
    <div id="tv-listings-today" class="games-content" style="display: none;">
      <div id="games"></div>
      <div id="error" class="error"></div>
    </div>

    <!-- LIVE TAB (placeholder) -->
    <div id="tv-listings-live" class="games-content" style="display: none;"></div>
  </div>

  <!-- START: F1 CONTENT BLOCK (Inside the same column, toggled with games) -->
  <div id="f1-column-content" style="display: none; height: 100%; flex-direction: column; background-color: #1f1f1f; color: #e5e7eb;">
      
      <!-- Header 1: Schedule -->
      <div style="padding: 1rem; border-bottom: 1px solid #374151; background-color: #3c3c3c;">
          <h2 style="font-size: 1.125rem; font-weight: 700; color: #fff;">Schedule</h2>
      </div>
  
      <!-- Container 1: Schedule Data -->
    <div id="f1-schedule-container" style="padding: 1rem; font-size: 0.875rem;">
    <p style="color: #9ca3af;">Loading schedule...</p>
</div>
  
      <!-- Header 2: Standings -->
      <div style="padding: 1rem; border-top: 1px solid #374151; border-bottom: 1px solid #374151; background-color: #3c3c3c;">
          <h2 style="font-size: 1.125rem; font-weight: 700; color: #fff;">Standings</h2>
      </div>
  
      <!-- Standings Component -->
      <div style="display: flex; flex-direction: column; flex: 1; overflow: hidden;">
          <!-- Tab Navigation -->
          <div style="padding: 0 1.5rem; border-bottom: 1px solid #374151;">
              <nav id="f1-tab-buttons" style="display: flex; margin-bottom: -1px; gap: 1.5rem;">
                  <button class="f1-tab-button active" data-tab="driver-standings" style="border-bottom: 2px solid #DC143C; color: #fff; padding-bottom: 1rem; font-size: 0.875rem; font-weight: 600; background: none; border-top: none; border-left: none; border-right: none; cursor: pointer;">
                      Driver
                  </button>
                  <button class="f1-tab-button" data-tab="constructor-standings" style="border-bottom: 2px solid transparent; color: #9ca3af; padding-bottom: 1rem; font-size: 0.875rem; font-weight: 600; background: none; border-top: none; border-left: none; border-right: none; cursor: pointer;">
                      Constructor
                  </button>
              </nav>
          </div>
          <!-- Tab Content Area -->
          <div style="padding: 0.5rem; flex: 1; overflow-y: auto;">
             <div id="driver-standings" class="f1-content-pane">
              <div id="driver-loading" style="text-align: center; padding: 20px; color: #9ca3af;">Loading driver standings...</div>
              <div id="driver-error" style="display: none; color: #ef4444; text-align: center; padding: 20px;"></div>
              <table id="driver-table" style="width: 100%; border-collapse: collapse; font-size: 11px; display: none;">
                <thead>
                  <tr style="text-align: left;">
                    <th style="padding: 6px 4px; width: 25px;">#</th>
                    <th style="padding: 6px 4px;">Driver</th>
                    <th style="padding: 6px 4px;">Team</th>
                    <th style="padding: 6px 4px; text-align: right;">Pts</th>
                  </tr>
                </thead>
                <tbody id="driver-tbody"></tbody>
              </table>
            </div>
            <div id="constructor-standings" class="f1-content-pane" style="display: none;">
              <div id="constructor-loading" style="text-align: center; padding: 20px; color: #9ca3af;">Loading constructor standings...</div>
              <div id="constructor-error" style="display: none; color: #ef4444; text-align: center; padding: 20px;"></div>
              <table id="constructor-table" style="width: 100%; border-collapse: collapse; font-size: 11px; display: none;">
                <thead>
                  <tr style="text-align: left;">
                    <th style="padding: 6px 4px; width: 25px;">#</th>
                    <th style="padding: 6px 4px;">Team</th>
                    <th style="padding: 6px 4px; text-align: right;">Pts</th>
                  </tr>
                </thead>
                <tbody id="constructor-tbody"></tbody>
              </table>
            </div>
          </div>
      </div>
  </div>
  <!-- END: F1 CONTENT BLOCK -->
</div>


<!-- ─── LEAGUE-SPECIFIC COLUMN (New, Initially Hidden) ────────────────────────── -->
<div class="column" id="league-specific-column" style="display: none; flex: 0 0 250px; background-color: #1f1f1f; color: #e5e7eb; padding: 0;">
    <!-- Header will be dynamically set -->
    <div id="league-specific-header" style="position: sticky; top: 0; width: 100%; height: 18px; background-color: #3c3c3c; font-family: Helvetica, Arial, sans-serif; font-size: 10px; display: flex; align-items: center; padding-left: 10px; z-index: 11; border-bottom: 1px solid #1f1f1f; font-weight: bold;">
        League Info
    </div>
    
    <!-- Container for Schedule -->
    <div id="league-schedule-container" style="padding: 1rem;">
        <h2 style="font-size: 1.125rem; font-weight: 700; color: #fff; margin-bottom: 1rem;">Schedule</h2>
        <div id="league-schedule-content"><p style="color: #9ca3af;">Loading schedule...</p></div>
    </div>

    <!-- Container for Standings -->
    <div id="league-standings-container" style="padding: 1rem; border-top: 1px solid #374151;">
        <h2 style="font-size: 1.125rem; font-weight: 700; color: #fff; margin-bottom: 1rem;">Standings</h2>
        <div id="league-standings-content"><p style="color: #9ca3af;">Loading standings...</p></div>
    </div>
</div>


      <!-- DIVIDER BETWEEN STANDINGS AND NEWS -->
      <div class="divider"></div>


      <!-- NEWS PANEL -->
      <div class="column news" style="height: 100%;">
        <!-- News header -->
        <div class="news-header" style="width: 100%; height: 18px;
            background-color: #3c3c3c; font-family: Helvetica, Arial, sans-serif;
            font-size: 10px; display: flex; align-items: center;
            padding-left: 1px; z-index: 11; border-bottom: 1px solid #1f1f1f;">News</div>

        <!-- Home News Section (Headlines + Breaking) -->
      <div id="news-Home" class="content-section" style="display: block; height: calc(100% - 18px);">
  <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
    <!-- Headlines Section -->
    <div class="news-section headlines-section" style="flex: 0 0 60%; min-height: 0;">
      <div class="news-section-header">Headlines</div>
      <div id="headlines-tabs">
        <div class="headlines-tab active" data-source="espn">ESPN</div>
        <div class="headlines-tab" data-source="cbs">CBS</div>
        <div class="headlines-tab" data-source="yahoo">Yahoo</div>
        <div class="headlines-tab" data-source="fox">FOX</div>
      </div>
      <div class="news-feed-content" id="espn-feed" style="display: block;">Loading ESPN...</div>
      <div class="news-feed-content" id="cbs-feed" style="display:none;">Loading CBS...</div>
      <div class="news-feed-content" id="yahoo-feed" style="display:none;">Loading Yahoo...</div>
      <div class="news-feed-content" id="fox-feed" style="display:none;">Loading FOX...</div>
    </div>
    <!-- Breaking/Fantasy/Transactions Tabs Section -->
    <div class="news-section breaking-section" style="flex: 1 1 40%; min-height: 0;">
      <div class="news-section-header breaking-tabs-header">
        <span class="news-tab active" data-tab="breaking">Breaking</span>
        <span class="news-tab" data-tab="fantasy">Fantasy</span>
        <span class="news-tab" data-tab="transactions">Transactions</span>
      </div>
      <div class="news-feed-content" id="breaking-feed" style="display: block;">Loading breaking news...</div>
      <div class="news-feed-content" id="fantasy-feed" style="display:none;">Loading fantasy news...</div>
      <div class="news-feed-content" id="transactions-feed" style="display:none;">Loading transactions...</div>
    </div>
  </div>
</div>

        <!-- League-Specific News Sections (all hidden by default) -->
       <div id="news-MLB" class="content-section" style="display: none; height: calc(100% - 18px);">
  <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
    <!-- Headlines Section -->
    <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
      <div class="news-section-header">Headlines</div>
      <div style="display: flex; height: calc(100% - 18px);">
        <!-- This is the container for the vertical tabs -->
        <div id="headlines-tabs-MLB" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
          <div class="headlines-tab active" data-url="https://rss.app/feeds/SBOH0Loz05FALZrr.xml">MLB.com</div>
		  <div class="headlines-tab" data-url="https://www.espn.com/espn/rss/mlb/news">ESPN</div>
          <div class="headlines-tab" data-url="https://theathletic.com/mlb/feed/">The Athletic</div>
          <div class="headlines-tab" data-url="https://rss.app/feeds/LVRMpOeA9vyT8JOC.xml">FanGraphs</div>
			<div class="headlines-tab" data-url="https://rss.app/feeds/RcKd20ITPLp5Y4AR.xml">FOX</div>
			
          
        </div>
        <!-- This is the container for the news content -->
        <div id="headlines-content-MLB" class="news-feed-content" style="width: 80%; overflow-y: auto;">
          <!-- The content will be loaded here by JavaScript -->
        </div>
      </div>
    </div>
    <!-- Breaking/Fantasy/Transactions Tabs Section -->
    <div class="news-section breaking-section" style="flex: 1 1 40%; min-height: 0;">
      <div class="news-section-header breaking-tabs-header">
        <span class="news-tab active" data-tab="breaking" data-url="https://rss.app/feeds/AYtjYuHSzf8VXPWV.xml">Breaking</span>
        <span class="news-tab" data-tab="fantasy">Fantasy</span>
        <span class="news-tab" data-tab="transactions">Transactions</span>
      </div>
      <div class="news-feed-content" id="breaking-feed" style="display: block;">
        Loading breaking news...
      </div>
      <div class="news-feed-content" id="fantasy-feed" style="display:none;">
        Loading fantasy news...
      </div>
      <div class="news-feed-content" id="transactions-feed" style="display:none;">
        Loading transactions...
      </div>
    </div>
  </div>
</div>
        <div id="news-NBA" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NBA" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NBA" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NFL" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NFL" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NFL" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NHL" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NHL" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NHL" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-MLS" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-MLS" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-MLS" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-PremierLeague" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-PremierLeague" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-PremierLeague" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-UEFAChampionsLeague" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-UEFAChampionsLeague" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-UEFAChampionsLeague" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-SerieA" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-SerieA" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-SerieA" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-Bundesliga" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-Bundesliga" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-Bundesliga" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-LaLiga" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-LaLiga" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-LaLiga" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-Soccer" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-Soccer" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-Soccer" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-FACup" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-FACup" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-FACup" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-LigaMX" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-LigaMX" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-LigaMX" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NWSL" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NWSL" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NWSL" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-Ligue1" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-Ligue1" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-Ligue1" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-UEFAEuropaLeague" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-UEFAEuropaLeague" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-UEFAEuropaLeague" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-UEFAConferenceLeague" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-UEFAConferenceLeague" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-UEFAConferenceLeague" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-FormulaOne" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-FormulaOne" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-FormulaOne" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NCAAF" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NCAAF" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NCAAF" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-PGATour" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-PGATour" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-PGATour" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-UFC" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-UFC" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-UFC" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-Boxing" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-Boxing" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-Boxing" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NASCARCupSeries" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NASCARCupSeries" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NASCARCupSeries" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-Tennis" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-Tennis" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-Tennis" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-WNBA" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-WNBA" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-WNBA" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-LIVGolf" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-LIVGolf" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-LIVGolf" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-IndyCar" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-IndyCar" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-IndyCar" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NCAAM" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NCAAM" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NCAAM" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NCAAW" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NCAAW" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NCAAW" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-UFL" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-UFL" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-UFL" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NCAABaseball" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NCAABaseball" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NCAABaseball" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-NCAASoftball" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-NCAASoftball" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-NCAASoftball" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-MotoGP" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-MotoGP" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-MotoGP" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-LPGATour" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-LPGATour" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-LPGATour" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="news-TrackAndField" class="content-section" style="display: none; height: calc(100% - 18px);">
          <div class="news-main-container" style="display: flex; flex-direction: column; height: 100%;">
            <div class="news-section headlines-section" style="flex: 1 1 auto; min-height: 0;">
              <div class="news-section-header">Headlines</div>
              <div style="display: flex; height: calc(100% - 18px);">
                <div id="headlines-tabs-TrackAndField" class="headlines-tabs-column" style="width: 20%; flex-shrink: 0;">
                </div>
                <div id="headlines-content-TrackAndField" class="news-feed-content" style="width: 80%; overflow-y: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DIVIDER BETWEEN NEWS PANEL AND SOCIAL PANEL -->
      <div class="divider"></div>

      <!-- SOCIAL PANEL -->
      <div class="column social" style="padding: 0; margin: 0;">
        <div
          id="socialHeader"
          style="position: sticky; top: 0; width: 100%; height: 18px; background-color: #3c3c3c; font-family: Helvetica, Arial, sans-serif; font-size: 10px; display: flex; align-items: center; padding-left: 10px; z-index: 11;"
        ><strong>Social</strong>
        </div>
        <!-- Single dynamic container for social feeds -->
       <div id="social-feed-container"></div>
</div>

      </div>
 <!-- DIVIDER BETWEEN SOCIAL PANEL AND MEDIA CENTER PANEL -->
      <div class="divider"></div>

      

        
<!-- Overlay -->
<div id="fullTableOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.95); z-index: 1000; overflow: auto;">
  <div style="max-width: 1000px; margin: 40px auto; background-color: #fff; padding: 20px; color: black; border-radius: 10px;">
    <button style="float: right; margin-top: -10px; margin-right: -10px; background: none; border: none; font-size: 20px; cursor: pointer; color: #000;" onclick="document.getElementById('fullTableOverlay').style.display = 'none';">&times;</button>
    <h2 style="text-align: center;">Full Premier League Table</h2>
    <table id="fullTable" style="width: 100%; border-collapse: collapse; font-size: 12px; background-color: #fafaf9; color: #000;">
      <thead>
        <tr>
          <th>Pos</th><th>Team</th><th>Played</th><th>Won</th><th>Drawn</th><th>Lost</th><th>GF</th><th>GA</th><th>GD</th><th>Pts</th>
        </tr>
      </thead>
      <tbody id="fullBody"></tbody>
    </table>
  </div>
</div>



<script src="https://widget.rss.app/v1/feed.js" async></script>

  <script>
 // Map of league to an array of RSS.app feed IDs (for cycling)
 const rssFeeds = {
   Home: [
     "_dQv2W26Lxax1n3sC",
     "4kPf5TwmnRhc9JOI",
"DxhOq5IvdSWmuCOQ"
     // Add more Home feeds here if needed
   ],
   MLB: ["ujM61O6ZzDQ7sOrb"],
   NBA: ["KDHaD7kKFdoZKNKv"],
   NFL: ["uvYTDMyn9nIYp068"],
   NHL: ["FkhRHZBH8WxhSWqp"],
   UFC: ["qzbgRcN4Qbr7VV0a"],
   Boxing: ["F2n8AUgzsvLsTadA"],
   NASCARCupSeries: ["AHhwgLGIFW2bn8zL"],
   Tennis: ["VeaGgNXCdeNdgl5l"],
   WNBA: ["DDsbnQvTkj4SNtgY"],
   LIVGolf: ["4lGhahA1b9JU9QZw"],
   IndyCar: ["oP6JlgisMb451EVK"],
   NCAAM: ["nSxcJn3Ke9aIPqkw"],
   NCAAW: ["8V2qb8WK1CMdeBfd"],
   NCAABaseball: ["6wO4p6CY027kWz5C"],
   NCAASoftball: ["WhV6lzzXj1FYOxln"],
   MotoGP: ["tNL3DAMLhpRv30tg"],
   LPGATour: ["MfbotBtAVnTL3I8j"],
   UEFAChampionsLeague: ["UMleWQY5zVMDG3RE"],
   PremierLeague: ["d972MWUX8N4NiXWc"],
   MLS: ["J2tGf8v6qaD6GjFC"],
   Bundesliga: ["YPjYmfSS1NyBDka8"],
   LaLiga: ["8ZkcLZl1mdrw2loE"],
   SerieA: ["vFegYItzKVnhgmre"],
   Soccer: ["S2jMmGyBQoDlvZ4D"],
   FACup: ["Lyr6iaRy8Fq04PKN"],
   LigaMX: ["jak4RrwNxI4UyoHb"],
   NWSL: ["wL801782ohBuXGyb"],
   Ligue1: ["2yFpSRvAMKYuQUZV"],
   UEFAEuropaLeague: ["p3fm4LjBWgp1WWr1"],
   UEFAConferenceLeague: ["9ThCZix939tiPtXy"],
   FormulaOne: ["8CRDFN299eMRIrYT"],
   NCAAF: ["MgdJ7SfrtcBRmv21"],
   PGATour: ["MPoz9LBtXzspAFPT"],
   TrackAndField: ["hcIJ3xkcewSGD4Yq"]
 };

 // Track which feed is currently loaded for each section
 let currentFeedSection = null;

 // Get the next feed ID for a section, cycling through available feeds
 function getNextFeedId(section) {
   const feeds = rssFeeds[section];
   if (!feeds || feeds.length === 0) return null;
   const key = "rssapp_feed_index_" + section;
   let idx = parseInt(localStorage.getItem(key) || "0", 10);
   idx = (idx + 1) % feeds.length;
   localStorage.setItem(key, idx);
   return feeds[idx];
 }

 function loadSocialFeed(section) {
   const container = document.getElementById("social-feed-container");
   if (!container) return;
   if (currentFeedSection === section) return;
   container.innerHTML = "";
   const feedId = getNextFeedId(section);
   if (feedId) {
     const feedTag = document.createElement("rssapp-feed");
     feedTag.setAttribute("id", feedId);
     container.appendChild(feedTag);

     // Remove any previous RSS.app script
     const oldScript = container.querySelector('script[data-rssapp]');
     if (oldScript) oldScript.remove();

     // Add the RSS.app script dynamically
     const script = document.createElement("script");
     script.src = "https://widget.rss.app/v1/feed.js";
     script.async = true;
     script.setAttribute('data-rssapp', 'true');
     container.appendChild(script);
   } else {
     container.innerHTML =
       "<div style='padding: 10px; font-size: 12px;'>No social feed available for this section.</div>";
   }
   currentFeedSection = section;
 }

 document.addEventListener("DOMContentLoaded", () => {
   // Load default feed (Home) on page load
   loadSocialFeed("Home");

   // Bind lazy loading to menu item clicks
   document.querySelectorAll("#menuList li[data-section]").forEach(item => {
     item.addEventListener("click", () => {
       const section = item.dataset.section;
       currentFeedSection = null; // Reset so a new feed loads
       loadSocialFeed(section);
     });
   });
 });
</script>

      <script>
        function showDiscussionSection(section) {
 // Hide all discussion content sections
 document.querySelectorAll("#discussion-panel .content-section").forEach(el => {
   el.style.display = "none";
 });
 // Show the discussion section for the given menu item
 const target = document.getElementById("discussion-" + section);
 if (target) {
   target.style.display = "block";
 }
}
      </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- GRAB ELEMENTS FOR COLUMN SWITCHING (Added here) ---
        const gamesColumn = document.getElementById('games-column');
        const leagueSpecificColumn = document.getElementById('league-specific-column');
        const f1Content = document.getElementById('f1-column-content');
        const gamesContent = document.getElementById('tv-listings-container');

        // Helper function to fetch and render an XML feed
        function fetchFeed(containerSelector, feedUrl) {
          const container = document.querySelector(containerSelector);
          if (!container) return;
          fetch(feedUrl)
            .then(res => res.text())
            .then(str => {
              const parser = new DOMParser();
              const xml = parser.parseFromString(str, "application/xml");
              const items = Array.from(xml.querySelectorAll("item"));
              if (items.length > 0) {
                const ul = document.createElement("ul");
                ul.style.margin = "0";
                ul.style.padding = "0";
                ul.style.listStyle = "none";
                items.forEach(item => {
                  const title = item.querySelector("title")?.textContent || "No title";
                  const link = item.querySelector("link")?.textContent || "#";
                  const li = document.createElement("li");
                  li.style.marginBottom = "0.5em";
                  const a = document.createElement("a");
                  a.href = link;
                  a.target = "_blank";
                  a.textContent = title;
                  li.appendChild(a);
                  ul.appendChild(li);
                });
                container.innerHTML = "";
                container.appendChild(ul);
                ul.querySelectorAll("a").forEach(link => {
                  link.addEventListener("click", () => {
                    link.classList.add("clicked");
                  });
                });
              } else {
                container.innerHTML = "<p>No items found.</p>";
              }
            })
            .catch(error => {
              console.error("Error loading feed:", error);
              container.innerHTML = "<p>Error loading feed.</p>";
            });
        }

        // Feed maps and fetching logic (unchanged)
        const feedMap = {
          espn: "https://www.espn.com/espn/rss/news",
          cbs: "https://rss.app/feeds/qQ90C7XC0oUECOLP.xml",
          yahoo: "https://rss.app/feeds/OvSpAK6PF8gmF37d.xml",
          fox: "https://rss.app/feeds/gqwmnxZNc8bSqdto.xml"
        };
        Object.entries(feedMap).forEach(([source, url]) => {
          fetchFeed(`#${source}-feed`, url);
        });
        fetchFeed("#feed-_somo8H8eOG8npoO2 .feed-content", "https://rss.app/feeds/_somo8H8eOG8npoO2.xml");
        fetchFeed("#feed-_wbelLijqAwfJLCJd .feed-content", "https://rss.app/feeds/_wbelLijqAwfJLCJd.xml");
        fetchFeed("#feed-_lAj37RJzPmNOxjz4 .feed-content", "https://rss.app/feeds/_lAj37RJzPmNOxjz4.xml");
        fetchFeed("#feed-_pBOHW7eyjbGkaiZq .feed-content", "https://rss.app/feeds/_pBOHW7eyjbGkaiZq.xml");
        fetchFeed("#feed-PremierLeague .feed-content", "https://rss.app/feeds/_un3EHST14mfp29GT.xml");
        fetchFeed("#feed-UEFAChampionsLeague .feed-content", "https://rss.app/feeds/hJ27BTRwkcUlwvsf.xml");
        fetchFeed("#feed-SerieA .feed-content", "https://rss.app/feeds/_IEjWrVaKRW3QNEkB.xml");
        fetchFeed("#feed-Bundesliga .feed-content", "https://rss.app/feeds/_OFOWQNsn38MFTtLv.xml");
        fetchFeed("#feed-LaLiga .feed-content", "https://rss.app/feeds/_zvRqo1UuuoLB5czl.xml");
        fetchFeed("#feed-_Upexy7Yp5vjsRWf8 .feed-content", "https://rss.app/feeds/_Upexy7Yp5vjsRWf8.xml");
        fetchFeed("#feed-UFC .feed-content", "https://rss.app/feeds/_YGmr1TjOD0yXmfU1.xml");
        fetchFeed("#feed-Boxing .feed-content", "https://rss.app/feeds/_7DfbEtxpn8RPNIMf.xml");
        fetchFeed("#feed-NASCARCupSeries .feed-content", "https://rss.app/feeds/_D7Q3jbrHjR3bGj8O.xml");
        fetchFeed("#feed-Tennis .feed-content", "https://rss.app/feeds/_tGSXi2957CegL2kC.xml");
        fetchFeed("#feed-WNBA .feed-content", "https://rss.app/feeds/_JsIgbwln4EnDHpSE.xml");
        fetchFeed("#feed-LIVGolf .feed-content", "https://rss.app/feeds/_s7tH2abPc7ZQXhLp.xml");
        fetchFeed("#feed-IndyCar .feed-content", "https://rss.app/feeds/_TqIJuTCX0SmFe0lM.xml");
        fetchFeed("#feed-NCAAM .feed-content", "https://rss.app/feeds/_va6EQaZAxOx6z8xR.xml");
        fetchFeed("#feed-NCAAW .feed-content", "https://rss.app/feeds/_2P4NcD95YPwU8T51.xml");
        fetchFeed("#feed-NCAABaseball .feed-content", "https://rss.app/feeds/_q2SYr186Ed7j8jud.xml");
        fetchFeed("#feed-NCAASoftball .feed-content", "https://rss.app/feeds/_y4zf68Y0lK5bkT47.xml");
        fetchFeed("#feed-MotoGP .feed-content", "https://rss.app/feeds/_4Bpke8POCqxzxfKq.xml");
        fetchFeed("#feed-LPGATour .feed-content", "https://rss.app/feeds/_a4W47htGlhRlO2ju.xml");
        fetchFeed("#feed-NCAAF .feed-content", "https://rss.app/feeds/_e8BTSPZYg61J9CYu.xml");
        fetchFeed("#feed-PGATour .feed-content", "https://rss.app/feeds/_QQsPX3f8GnzYvAXX.xml");
        fetchFeed("#feed-FACup .feed-content", "https://rss.app/feeds/Wlg6SgkaP1M71ZJK.xml");
        fetchFeed("#feed-LigaMX .feed-content", "https://rss.app/feeds/_JgpA2OqGGC8IrApe.xml");
        fetchFeed("#feed-NWSL .feed-content", "https://rss.app/feeds/_1kbC9b791rPZgjg6.xml");
        fetchFeed("#feed-FormulaOne .feed-content", "https://rss.app/feeds/_32mCoV3PIKhpjo2K.xml");
        fetchFeed("#feed-Ligue1 .feed-content", "https://rss.app/feeds/_9nS7hLmB3aUlWcjH.xml");
        fetchFeed("#feed-UEFAEuropaLeague .feed-content", "https://rss.app/feeds/_Op8jopGsYny0gt0e.xml");
        fetchFeed("#feed-UEFAConferenceLeague .feed-content", "https://rss.app/feeds/_BjsIqdRuSa1z3U9p.xml");
        fetchFeed("#feed-TrackAndField .feed-content", "https://rss.app/feeds/_rZcwsn3Z2MR5N2Zq.xml");
        fetchFeed("#feed-Soccer .feed-content", "https://rss.app/feeds/_Vqk4SoQYrKBPOvx6.xml");

        // Existing menu functionality
        let selectedSection = "Home";
        document.querySelectorAll(".menu-filter").forEach(filter => {
          filter.addEventListener("click", () => {
            document.getElementById("menuSearch").value = "";
            ["123", "az", "group"].forEach(type => {
              document.querySelectorAll("#menuList-" + type + " li").forEach(li => {
                li.style.display = "";
              });
            });
            document.querySelectorAll(".menu-filter").forEach(f =>
              f.classList.remove("active")
            );
            filter.classList.add("active");
            const type = filter.dataset.filter;
            document.getElementById("menuList-123").style.display =
              type === "123" ? "block" : "none";
            document.getElementById("menuList-az").style.display =
              type === "az" ? "block" : "none";
            document.getElementById("menuList-group").style.display =
              type === "group" ? "block" : "none";
            const newList = document.getElementById("menuList-" + type);
            if (newList) {
              newList.querySelectorAll("li[data-section]").forEach(li => {
                li.classList.toggle("selected", li.dataset.section === selectedSection);
              });
            }
          });
        });

        // --- THIS IS THE CORRECTED CLICK HANDLER ---
        document.querySelectorAll("#menuList li").forEach(item => {
          item.addEventListener("click", e => {
            if (
              item.classList.contains("spacer-line") ||
              item.classList.contains("soccer-more-toggle") ||
              item.querySelector("strong")
            ) {
              e.stopPropagation();
              return;
            }
            e.stopPropagation();
            if (item.dataset.section) {
              selectedSection = item.dataset.section;
            }
            document
              .querySelectorAll("#menuList li[data-section]")
              .forEach(li => li.classList.remove("selected"));
            item.classList.add("selected");
            const section = item.dataset.section;

            // --- START: CORRECTED LOGIC ---
            if (section === 'Home') {
                gamesColumn.style.display = 'block';
                leagueSpecificColumn.style.display = 'none';
                
                // Inside games column, ensure correct view
                gamesContent.style.display = 'block';
                f1Content.style.display = 'none';

				 const espnTab = document.querySelector('#headlines-tabs .headlines-tab[data-source="espn"]');
     if (espnTab) {
       espnTab.click();
     }

            } else if (section === 'FormulaOne') {
                gamesColumn.style.display = 'block'; // F1 content is INSIDE this column
                leagueSpecificColumn.style.display = 'none';

                // Toggle visibility within the games column
                gamesContent.style.display = 'none';
                f1Content.style.display = 'flex'; 
            } else { // For all other leagues
                gamesColumn.style.display = 'none';
                leagueSpecificColumn.style.display = 'block';
                
                // Trigger data load for the specific league
                loadLeagueSpecificData(section);
            }

            // 2. Handle the news panel switching (existing logic)
            document.querySelectorAll(".news .content-section").forEach(
              s => (s.style.display = "none")
            );
            document.querySelectorAll("#social-feed-container .content-section").forEach(s => s.style.display = "none");

    const news = document.getElementById("news-" + section);
   const social = document.getElementById("social-" + section);
   if (news) {
       news.style.display = "block";

       const newsSubMenu = document.getElementById("newsSubMenu");
       if (newsSubMenu) {
           newsSubMenu.style.display = section === "Home" ? "flex" : "none";
       }

       const container = document.querySelector(".news");
       if (container) {
           container.scrollTop = 0;
           container.dispatchEvent(new Event("scroll"));
       }

       // Call the consolidated function to load default feeds for the current section
       loadHeadlinesAndBreakingFeeds(section);
   }
   if (social) social.style.display = "block";
});
});

// A new, separate function to handle loading default feeds for both sections
function loadHeadlinesAndBreakingFeeds(section) {
 const newsSection = document.getElementById(`news-${section}`);
 if (!newsSection) return;

 // Find the default headlines tab and click it to load the feed and set active state
 const defaultHeadlinesTab = newsSection.querySelector('.headlines-tab[data-url]');
 if (defaultHeadlinesTab) {
   defaultHeadlinesTab.click();
 }
 
 // Find the default breaking tab and click it to load the feed and set active state
 const defaultBreakingTab = newsSection.querySelector('.news-tab[data-tab="breaking"][data-url]');
 if (defaultBreakingTab) {
   defaultBreakingTab.click();
 }
}
		 const leagueVerticalTabsContainers = document.querySelectorAll('.headlines-tabs-column');

   leagueVerticalTabsContainers.forEach(container => {
       container.addEventListener('click', (event) => {
           const clickedTab = event.target.closest('.headlines-tab');
           if (clickedTab) {
               // Deactivate all tabs within this specific container
               container.querySelectorAll('.headlines-tab').forEach(tab => {
                   tab.classList.remove('active');
               });
               // Activate the clicked tab
               clickedTab.classList.add('active');

               // Here is where you would also call the function to fetch and display the new feed content.
               const feedUrl = clickedTab.dataset.url;
               const contentContainer = document.getElementById(`headlines-content-${selectedSection}`);
               if (contentContainer) {
                   fetchFeed(`#headlines-content-${selectedSection}`, feedUrl);
               }
           }
       });
   });

   // --- CORRECTED LOGIC FOR HORIZONTAL NEWS TABS (Breaking, etc.) ---
   // This new handler correctly processes clicks on tabs with a `data-url`,
   // making it work for league-specific pages like MLB.
   document.querySelectorAll(".news").forEach(newsContainer => {
       newsContainer.addEventListener('click', (event) => {
           const clickedTab = event.target.closest('.news-tab[data-url]');
           if (!clickedTab) return;

           const newsSection = clickedTab.closest('.content-section');
           if (!newsSection) return;

           // Deactivate sibling tabs within the same tab bar
           clickedTab.parentElement.querySelectorAll('.news-tab').forEach(tab => tab.classList.remove('active'));
           clickedTab.classList.add('active');

           // Hide all sibling content panes in this section
           newsSection.querySelectorAll('.news-content-pane').forEach(pane => pane.style.display = 'none');

           const tabType = clickedTab.dataset.tab;
           const feedUrl = clickedTab.dataset.url;
           
           // Construct the ID of the target content pane (e.g., "breaking-content-MLB")
           const sectionId = newsSection.id.replace('news-', '');
           const contentPane = newsSection.querySelector(`#${tabType}-content-${sectionId}`);
           
           if (contentPane) {
               contentPane.style.display = 'block';
               // Use the fetchFeed function from this script's scope to load the XML
               fetchFeed(`#${contentPane.id}`, feedUrl);
           }
       });
   });
   
        const feeds = ["feed-ESPN", "feed-CBS", "feed-FOX", "feed-Yahoo"];
        const newsPanel = document.querySelector(".news");
        newsPanel.addEventListener("scroll", () => {
          const newsSubMenu = document.getElementById("newsSubMenu");
          if (!newsSubMenu) return; 

          const top = newsPanel.getBoundingClientRect().top;
          const offset = newsSubMenu.offsetHeight + 50;
          let active = 0;
          for (let i = 0; i < feeds.length; i++) {
            const el = document.getElementById(feeds[i]);
            if (!el) continue;
            const h4 = el.querySelector("h4");
            if (!h4) continue;
            if (h4.getBoundingClientRect().top > top + offset) break;
            active = i;
          }
          const feedName = feeds[active].replace("feed-", "").toLowerCase();
          document.querySelectorAll(".news-menu-item").forEach(item => {
            item.classList.toggle(
              "active",
              item.dataset.feed.toLowerCase() === feedName
            );
          });
        });

        document.getElementById("menuSearch").addEventListener("keyup", function () {
          const query = this.value.toLowerCase();
          const activeFilterElem = document.querySelector(".menu-filter.active");
          if (!activeFilterElem) return;
          const activeFilter = activeFilterElem.dataset.filter;
          const activeList = document.getElementById("menuList-" + activeFilter);
          if (activeList) {
            activeList.querySelectorAll("li").forEach(li => {
              li.style.display = li.textContent.toLowerCase().includes(query)
                ? ""
                : "none";
            });
          }
        });

        window.toggleSoccerMore = function () {
          const section = document.getElementById("soccer-more");
          const toggle = document.querySelector(".soccer-more-toggle");
          const expanded = section.style.display === "block";
          section.style.display = expanded ? "none" : "block";
          toggle.textContent = expanded ? "More…" : "Less…";
        };

        document.querySelectorAll(".rss-feed a").forEach(link => {
          link.setAttribute("target", "_blank");
          link.addEventListener("click", () => {
            link.classList.add("clicked");
          });
        });
      });

     function showSecondSocialSection(section) {
      document.querySelectorAll("#second-social-panel .content-section").forEach(el => {
        el.style.display = "none";
      });
      const target = document.getElementById("social2-" + section);
      if (target) {
        target.style.display = "block";
      }
    }

    document.querySelectorAll("#menuList li[data-section]").forEach(item => {
      item.addEventListener("click", () => {
        const section = item.dataset.section;
        showSecondSocialSection(section);
        showDiscussionSection(section);
      });
    });
    </script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // ── A) Grab all four tab elements and define their order ──
    const tabs    = Array.from(document.querySelectorAll(".headlines-tab"));
    const sources = ["espn", "cbs", "yahoo", "fox"];

    // ── B) Keep track of which feeds already have a scroll listener ──
    const scrollListeners = {};

    // ── C) Function to attach a "scroll to bottom" watcher on a feed ──
    function attachScrollWatcher(src) {
      const feedEl = document.getElementById(src + "-feed");
      // If there's no such element or we've already wired it, do nothing
      if (!feedEl || scrollListeners[src]) return;

      const onScroll = () => {
        // When scrolled to (or within 1px of) bottom, auto‐advance:
        if (feedEl.scrollHeight - feedEl.scrollTop - feedEl.clientHeight <= 1) {
          const idx     = sources.indexOf(src);
          const nextIdx = idx + 1;
          if (nextIdx < sources.length) {
            const nextTab = document.querySelector(
              `.headlines-tab[data-source="${sources[nextIdx]}"]`
            );
            if (nextTab) nextTab.click();
          }
        }
      };

      feedEl.addEventListener("scroll", onScroll);
      scrollListeners[src] = onScroll;
    }

    // ── D) Function to activate (highlight) exactly one tab + feed ──
    function activateSource(src) {
      // 1) Toggle "active" class on tabs
      tabs.forEach(t => t.classList.toggle(
        "active",
        t.getAttribute("data-source") === src
      ));

      // 2) Hide all four feed‐divs, then show only the chosen one
      sources.forEach(s => {
        const div = document.getElementById(s + "-feed");
        if (div) {
          div.style.display = (s === src) ? "block" : "none";
        }
      });

      // 3) After switching, (re‐)attach the scroll watcher to the newly visible feed
      attachScrollWatcher(src);
    }

    // ── E) Add click listeners to each .headlines-tab ──
    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        const src = tab.getAttribute("data-source"); // "espn" / "cbs" / etc.
        activateSource(src);
      });
    });

    // ── F) On initial load, activate ESPN by default ──
    activateSource("espn");
  });
</script>
	 

	  <script>
  /**
   * Turn a raw headline into a normalized array of words.
   * - Lowercase
   * - Remove punctuation
   * - Split on whitespace
   * - Filter out empty tokens
   */
  function headlineToWordArray(str) {
    return str
      .toLowerCase()
      .replace(/[^\w\s]/g, "")   // strip any non‐alphanumeric (keeps letters/numbers/spaces)
      .split(/\s+/)              // split on whitespace
      .filter(word => word.length > 0);
  }

  /**
   * Compute Jaccard similarity of two arrays of words:
   * |Intersection(words1, words2)| / |Union(words1, words2)|
   */
  function jaccardSimilarity(wordsA, wordsB) {
    const setA = new Set(wordsA);
    const setB = new Set(wordsB);
    let intersectionCount = 0;
    for (let w of setA) {
      if (setB.has(w)) intersectionCount++;
    }
    const unionCount = setA.size + setB.size - intersectionCount;
    if (unionCount === 0) return 0;
    return intersectionCount / unionCount;
  }

  /**
   * Remove any post element whose headline is "too similar" to one already kept.
   * We keep track of word‐sets of all headlines we've accepted, then for each new one
   * we measure its Jaccard similarity against all "seen" sets. If any overlap ≥ threshold, we remove it.
   */
  function removeNearDuplicateHeadlines() {
    const container = document.getElementById("my-rss-widget");
    if (!container) return;

    // Grab every <a> under #my-rss-widget (RSS.app normally puts each item in an <a>).
    const links = Array.from(container.querySelectorAll("a"));

    // Array of word‐sets we have accepted so far
    const seenWordSets = [];
    // Threshold of Jaccard similarity above which we consider two headlines "duplicates"
    const SIMILARITY_THRESHOLD = 0.65;

    links.forEach(link => {
      const rawText = link.textContent || "";
      const words = headlineToWordArray(rawText);
      // Compare against each seen word‐set:
      let isDuplicate = false;
      for (let seenWords of seenWordSets) {
        const similarity = jaccardSimilarity(words, seenWords);
        if (similarity >= SIMILARITY_THRESHOLD) {
          isDuplicate = true;
          break;
        }
      }

      if (isDuplicate) {
        // Remove this entire "item." Climb up until you hit a direct child of #my-rss-widget:
        let el = link;
        while (el && el.parentElement && el.parentElement.id !== "my-rss-widget") {
          el = el.parentElement;
        }
        if (el && el.parentElement === container) {
          container.removeChild(el);
        }
      } else {
        // Not a duplicate: add this word‐array to seenWordSets
        seenWordSets.push(words);
      }
    });
  }

  /**
   * Observe #my-rss-widget until at least one <a> appears, then run the fuzzy dedupe.
   * Also run a fallback after 3 seconds in case feed loads slowly.
   */
  document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("my-rss-widget");
    if (!container) return;

    const observer = new MutationObserver((mutations, obs) => {
      // If at least one <a> is present, RSS.app has rendered items
      if (container.querySelector("a")) {
        removeNearDuplicateHeadlines();
        obs.disconnect();
      }
    });

    observer.observe(container, { childList: true, subtree: true });

    // Fallback in case feed injection is delayed
    setTimeout(removeNearDuplicateHeadlines, 3000);
  });
</script>

	  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const breakingContainer = document.getElementById("breaking-feed");
    if (!breakingContainer) return;

    breakingContainer.addEventListener("click", async (evt) => {
      // Only proceed if a link (<a>) was clicked inside #breaking-feed
      const anchor = evt.target.closest("a");
      if (!anchor || !breakingContainer.contains(anchor)) return;
      evt.preventDefault();

      const newsNowUrl = anchor.href;
      try {
        // 1) Fetch the NewsNow page HTML
        const resp = await fetch(newsNowUrl, { redirect: "follow" });
        const html = await resp.text();
        const doc = new DOMParser().parseFromString(html, "text/html");

        // 2) Look for a <meta http-equiv="refresh"> redirect
        const metaRefresh = doc.querySelector('meta[http-equiv="refresh"]');
        if (metaRefresh) {
          const content = metaRefresh.getAttribute("content") || "";
          // "content" is often like "0; URL=https://…"
          const match = content.match(/URL=(.*)/i);
          if (match && match[1]) {
            window.open(match[1], "_blank");
            return;
          }
        }

        // 3) Fallback: check for <link rel="canonical">
        const linkCanonical = doc.querySelector('link[rel="canonical"]');
        if (linkCanonical && linkCanonical.href) {
          window.open(linkCanonical.href, "_blank");
          return;
        }

        // 4) Fallback: inspect any <script> blocks for a JS redirect
        const scripts = Array.from(doc.querySelectorAll("script"));
        for (const s of scripts) {
          const txt = s.textContent || "";
          // look for window.location.href = "…";
          let m = txt.match(/window\.location\.href\s*=\s*['"](.*?)['"]/);
          if (m && m[1]) {
            window.open(m[1], "_blank");
            return;
          }
          // look for location.replace("…");
          m = txt.match(/location\.replace\s*\(\s*['"](.*?)['"]/);
          if (m && m[1]) {
            window.open(m[1], "_blank");
            return;
          }
        }

        // 5) If none of the above, just open the NewsNow URL as a last resort
        window.open(newsNowUrl, "_blank");
      } catch (err) {
        // On fetch/parse error, open the original link
        window.open(newsNowUrl, "_blank");
      }
    });
  });
</script>

 
<script>
  // This script now contains the logic for both "Today" and "Scores" tabs
  function setupTabSwitching() {
    const gamesTabs = document.querySelectorAll('.games-tab');
    const gamesContents = document.querySelectorAll('.games-content');
    let todayGamesIntervalId = null;

    gamesTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const targetTabId = tab.dataset.tab;

        // Remove 'active' from all tabs and hide all content divs
        gamesTabs.forEach(t => t.classList.remove('active'));
        gamesContents.forEach(content => {
          content.style.display = 'none';
        });

        // Activate the clicked tab and its content
        tab.classList.add('active');
        const targetContentDiv = document.getElementById(`tv-listings-${targetTabId}`);
        if (targetContentDiv) {
          targetContentDiv.style.display = 'block';
        }

        // Clear existing interval for "today" tab
        if (todayGamesIntervalId) {
          clearInterval(todayGamesIntervalId);
          todayGamesIntervalId = null;
        }

        // Trigger fetches for the selected tab
        if (targetTabId === 'scores') {
          fetchYesterdayScores();
        } else if (targetTabId === 'today') {
          fetchTodayGames(); // This will now call the new fetchTodayGames from testing_testing-3.html
          todayGamesIntervalId = setInterval(fetchTodayGames, 30000);
        } else if (targetTabId === 'live') {
          // TODO: Add fetchLiveGames() if needed
        }
      });
    });

    // ✅ Default to loading the TODAY tab
    const todayTab = document.querySelector('.games-tab[data-tab="today"]');
    if (todayTab) {
      todayTab.click();
    } else {
      const fallbackTab = document.querySelector('.games-tab[data-tab="scores"]');
      if (fallbackTab) fallbackTab.click();
    }
  }
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const menuBtn = document.getElementById('menu-toggle');
    const gamesBtn = document.getElementById('games-toggle');
    const menuCol = document.querySelector('.column.main-menu');
    const gamesCol = document.querySelector('.column.tv-listings');

    if (menuBtn) {
      menuBtn.addEventListener('click', () => {
        if (menuCol) menuCol.classList.toggle('open');
      });
    }

    if (gamesBtn) {
      gamesBtn.addEventListener('click', () => {
        if (gamesCol) gamesCol.classList.toggle('open');
      });
    }

    // News panel switching
    document.querySelectorAll("#menuList li[data-section]").forEach(item => {
      item.addEventListener("click", function () {
        const section = item.dataset.section || "Home";
        document.querySelectorAll(".column.news .content-section").forEach(s => {
          s.style.display = "none";
        });
        const news = document.getElementById("news-" + section);
        if (news) {
          news.style.display = "block";
        } else {
          const homeNews = document.getElementById("news-Home");
          if (homeNews) homeNews.style.display = "block";
        }
      });
    });

    // ✅ Init games panel switching (after DOM and fetch functions are ready)
    setupTabSwitching();
  });
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    
    // --- PART 1: Logic to switch between Games and F1 column content ---
    const leftMenu = document.getElementById('menuList');
    const gamesContent = document.getElementById('tv-listings-container');
    const f1Content = document.getElementById('f1-column-content');

    if (leftMenu && gamesContent && f1Content) {
        leftMenu.addEventListener('click', function(event) {
            const clickedItem = event.target.closest('li[data-section]');
            if (!clickedItem) return;

            const section = clickedItem.dataset.section;

            if (section === 'FormulaOne') {
                gamesContent.style.display = 'none';
                f1Content.style.display = 'flex'; // Use flex to restore layout
            } else {
                gamesContent.style.display = 'block';
                f1Content.style.display = 'none';
            }
        });
    }

    // --- PART 2: Logic for the F1 Driver/Constructor tabs ---
    const f1TabButtonsContainer = document.getElementById('f1-tab-buttons');
    const f1ContentPanes = document.querySelectorAll('.f1-content-pane');
    
    let driverStandingsLoaded = false;
    let constructorStandingsLoaded = false;
    
    // Load the default tab's data immediately when the F1 panel is shown
    // This assumes you want to load it when FormulaOne is clicked.
    // We can also trigger this on the first click of the tab.
    const f1MenuItem = document.querySelector('li[data-section="FormulaOne"]');
    if (f1MenuItem) {
        f1MenuItem.addEventListener('click', () => {
            if (!driverStandingsLoaded) {
                loadDriverStandings();
                driverStandingsLoaded = true;
            }
        }, { once: true }); // Use { once: true } so it only fires the first time
    }

    if (f1TabButtonsContainer) {
        f1TabButtonsContainer.addEventListener('click', function(event) {
            const clickedButton = event.target.closest('.f1-tab-button');
            if (!clickedButton) return;

            const targetTabId = clickedButton.dataset.tab;
            
            // Deactivate all buttons
            f1TabButtonsContainer.querySelectorAll('.f1-tab-button').forEach(btn => {
                btn.style.borderBottomColor = 'transparent';
                btn.style.color = '#9ca3af';
            });

            // Hide all panes
            f1ContentPanes.forEach(pane => {
                pane.style.display = 'none';
            });

            // Activate the clicked button and its pane
            clickedButton.style.borderBottomColor = '#DC143C';
            clickedButton.style.color = '#fff';
            
            const targetPane = document.getElementById(targetTabId);
            if (targetPane) {
                targetPane.style.display = 'block';
            }
            
            // Load data if it hasn't been loaded yet
            if (targetTabId === 'driver-standings' && !driverStandingsLoaded) {
                loadDriverStandings();
                driverStandingsLoaded = true; 
            } else if (targetTabId === 'constructor-standings' && !constructorStandingsLoaded) {
                loadConstructorStandings();
                constructorStandingsLoaded = true;
            }
        });
    }
});
</script>

<script>
// Google Sheets Configuration - Using published CSV URLs (no API key needed)
const GOOGLE_SHEETS_CONFIG = {
    DRIVER_STANDINGS_URL: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS6rs6yvXAh-KktOOVGGY6knFMjR11W75yfcq7iReQCjl-uc9hHwT3yMpZ01GqAlYwsY0VYVTADrPiR/pub?output=csv',
    CONSTRUCTOR_STANDINGS_URL: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQcpOkjKy5bcEPAZRofXpGGyf0_VkfIBIDDrlgUIiSuznqdUfDRAqmy_EAcVN3K1-y_F6wr78TbH6U8/pub?output=csv'
};

// Function to fetch data from published Google Sheets CSV
async function fetchFromGoogleSheetsCSV(url) {
    try {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const csvText = await response.text();
        // Parse CSV data using a regular expression for newlines
        const rows = csvText.split(/\r?\n/).map(row => row.split(',').map(cell => cell.trim().replace(/^\"|\"$/g, '')));
        return rows.filter(row => row.length > 1 && row[0] !== ''); // Ensure row has content
    } catch (error) {
        console.error('Error fetching from Google Sheets CSV:', error);
        throw error;
    }
}

// Function to load driver standings
async function loadDriverStandings() {
    const loadingDiv = document.getElementById('driver-loading');
    const errorDiv = document.getElementById('driver-error');
    const table = document.getElementById('driver-table');
    const tbody = document.getElementById('driver-tbody');
    try {
        loadingDiv.style.display = 'block';
        errorDiv.style.display = 'none';
        table.style.display = 'none';
        const data = await fetchFromGoogleSheetsCSV(GOOGLE_SHEETS_CONFIG.DRIVER_STANDINGS_URL);
        if (data.length === 0) throw new Error('No data found in sheet');
        tbody.innerHTML = '';
        for (let i = 1; i < data.length; i++) {
            const row = data[i];
            if (row.length >= 4) {
                const tr = document.createElement('tr');
                tr.style.borderTop = '1px solid #374151';
                tr.innerHTML = `
                        <td style="padding: 6px 4px;">${row[0]}</td>
                        <td style="padding: 6px 4px;">${row[1]}</td>
                        <td style="padding: 6px 4px;">${row[3]}</td>
                        <td style="padding: 6px 4px; text-align: right; font-weight: bold;">${row[2]}</td>
                `;
                tbody.appendChild(tr);
            }
        }
        loadingDiv.style.display = 'none';
        table.style.display = 'table';
    } catch (error) {
        loadingDiv.style.display = 'none';
        errorDiv.style.display = 'block';
        errorDiv.textContent = `Error loading driver standings: ${error.message}`;
        console.error('Error loading driver standings:', error);
    }
}

// Function to load constructor standings
async function loadConstructorStandings() {
    const loadingDiv = document.getElementById('constructor-loading');
    const errorDiv = document.getElementById('constructor-error');
    const table = document.getElementById('constructor-table');
    const tbody = document.getElementById('constructor-tbody');
    try {
        loadingDiv.style.display = 'block';
        errorDiv.style.display = 'none';
        table.style.display = 'none';
        const data = await fetchFromGoogleSheetsCSV(GOOGLE_SHEETS_CONFIG.CONSTRUCTOR_STANDINGS_URL);
        if (data.length === 0) throw new Error('No data found in sheet');
        tbody.innerHTML = '';
        for (let i = 1; i < data.length; i++) {
            const row = data[i];
            if (row.length >= 3) {
                const tr = document.createElement('tr');
                tr.style.borderTop = '1px solid #374151';
                tr.innerHTML = `
                        <td style="padding: 6px 4px;">${row[0]}</td>
                        <td style="padding: 6px 4px;">${row[1]}</td>
                        <td style="padding: 6px 4px; text-align: right; font-weight: bold;">${row[2]}</td>
                `;
                tbody.appendChild(tr);
            }
        }
        loadingDiv.style.display = 'none';
        table.style.display = 'table';
    } catch (error) {
        loadingDiv.style.display = 'none';
        errorDiv.style.display = 'block';
        errorDiv.textContent = `Error loading constructor standings: ${error.message}`;
        console.error('Error loading constructor standings:', error);
    }
}

// Initial load when F1 section is shown
document.addEventListener('DOMContentLoaded', function () {
    // You may want to call loadDriverStandings() here if F1 is the default tab
});
</script>

	  <script>
document.addEventListener('DOMContentLoaded', function () {
    const F1_SCHEDULE_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRZ9MyNW-7sVotdUg-L3rBWegNuPhhYek7C367krB8PfVRrRNBTE57AXTGPcxOXc192MqS_toeVrWER/pub?output=csv';
    const scheduleContainer = document.getElementById('f1-schedule-container');

    // Fetches and parses the F1 schedule CSV data.
    async function fetchF1ScheduleData() {
        try {
            const response = await fetch(F1_SCHEDULE_URL);
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            const csvText = await response.text();
            
            const rows = csvText.split(/\r?\n/).slice(1); // Split and remove header row
            const timeZone = 'America/Chicago'; // Times in the sheet are Central U.S. Time
            const { DateTime } = luxon;

            return rows.map(row => {
                const columns = row.split(',');
                if (columns.length < 6) return null; // Skip malformed rows

                const date = columns[0].trim();
                const startTimeStr = columns[1].trim();
                const endTimeStr = columns[2].trim();

                // Combine date and time to create a valid Luxon DateTime object with the correct time zone
                const startDateTime = DateTime.fromFormat(`${date} ${startTimeStr}`, 'M/d/yyyy h:mm a', { zone: timeZone });
                const endDateTime = DateTime.fromFormat(`${date} ${endTimeStr}`, 'M/d/yyyy h:mm a', { zone: timeZone });

                return {
                    start: startDateTime,
                    end: endDateTime,
                    eventHead: columns[3].trim(),
                    eventSub: columns[4].trim(),
                    channel: columns[5].trim()
                };
            }).filter(event => event && event.start.isValid); // Filter out null or invalid date rows
        } catch (error) {
            console.error('Error fetching or parsing F1 schedule:', error);
            scheduleContainer.innerHTML = `<p style="color: #ef4444;">Error loading schedule.</p>`;
            return [];
        }
    }

    // Renders the schedule based on the current time.
    function renderSchedule(allEvents) {
        if (!allEvents || allEvents.length === 0) {
            scheduleContainer.innerHTML = `<p style="color: #9ca3af;">No upcoming schedule found.</p>`;
            return;
        }

        const now = luxon.DateTime.now();

        // 1. Find the current or next race weekend to display
        const nextEvent = allEvents.find(event => event.end > now);
        if (!nextEvent) {
            scheduleContainer.innerHTML = `<p style="color: #9ca3af;">The season may have concluded.</p>`;
            return;
        }
        const currentRaceHead = nextEvent.eventHead;

        // 2. Filter for events for that specific weekend whose end time hasn't passed
        const eventsToDisplay = allEvents.filter(event => 
            event.eventHead === currentRaceHead && event.end > now
        );

        // 3. Group events by date for display
        const groupedByDate = eventsToDisplay.reduce((acc, event) => {
            const dateKey = event.start.toFormat('yyyy-MM-dd');
            if (!acc[dateKey]) {
                acc[dateKey] = [];
            }
            acc[dateKey].push(event);
            return acc;
        }, {});
        
        // 4. Generate and inject the HTML
        let html = '';
        const today = now.toFormat('yyyy-MM-dd');
        
        for (const dateKey in groupedByDate) {
            const dateObj = luxon.DateTime.fromISO(dateKey);
            const dateHeader = (dateKey === today) ? 'Today' : dateObj.toFormat('MMMM d');
            
            html += `<h3 style="font-weight: 600; margin-bottom: 0.5rem; margin-top: 1rem;">${dateHeader}</h3>`;

            groupedByDate[dateKey].forEach(event => {
                const isLive = now >= event.start && now < event.end;
                const timeDisplay = isLive 
                    ? `<span style="color: #ef4444; font-weight: bold;">Live</span>`
                    : event.start.toFormat('h:mm a');

                html += `
                        <div style="display: flex; justify-content: space-between; align-items: top; margin-bottom: 0.75rem;">
                            <div style="flex: 0 0 70px; color: #e0e0e0;">${timeDisplay}</div>
                            <div style="flex: 1 1 auto;">
                                <p style="margin: 0; padding: 0; font-weight: 500;">${event.eventHead}</p>
                                <p style="margin: 0; padding: 0; color: #9ca3af;">${event.eventSub}</p>
                            </div>
                            <div style="flex: 0 0 60px; text-align: right; color: #e0e0e0;">${event.channel}</div>
                        </div>
                `;
            });
        }

        scheduleContainer.innerHTML = html || `<p style="color: #9ca3af;">No upcoming events for this race.</p>`;
    }

    // Main function to update the schedule
    async function updateSchedule() {
        const events = await fetchF1ScheduleData();
        renderSchedule(events);
    }

    // Initial load and then update every 60 seconds to catch "Live" status changes
    updateSchedule();
    setInterval(updateSchedule, 60000); 
});
</script>
	 
<script>
// --- FINAL UNIFIED SCRIPT for ALL Game, Schedule, and Standings Logic ---
// This version sorts final games to the bottom of each list.
document.addEventListener('DOMContentLoaded', function () {

    // --- 1. CONFIGURATION ---
    const LEAGUE_DATA_CONFIG = {
        'NFL': { leagueId: 'USA: NFL', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSoXI911JBowIVpsOtYo7Jk0WwwNlujQ76rR4lgDAqxGWLa_q67gOXI0DyKsC4YkKIfbSYqerHp17-m/pub?gid=1628205730&single=true&output=csv' },
        'NBA': { leagueId: 'USA: NBA', standingsUrl: 'YOUR_NBA_STANDINGS_CSV_URL_HERE' },
        'MLB': { leagueId: 'USA: MLB', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRQHOSDTxfJ554E0MhgZPfmnarCUunnYmxDBSZ78APQ3QfvPWBnn1i68JPSuNCNByd1IzYEbj-6AVAZ/pub?gid=1312763847&single=true&output=csv' },
        'NHL': { leagueId: 'USA: NHL', standingsUrl: 'YOUR_NHL_STANDINGS_CSV_URL_HERE' },
        'PremierLeague': { leagueId: 'ENGLAND: PREMIER LEAGUE', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT8lEnnlz6Uhb47U4yOnsSUOcsfBS3TrpEXri3g6S2Yj2FUkq1rSSgE4SveKPoAJQsu6U2kkfdGtmhO/pub?gid=0&single=true&output=csv' },
        'MLS': { leagueId: 'USA: MLS', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSQ-fXiJCsMWxpSzu9x_vE7DhdtHBBpL54Ue3vnPnk21OeTsGwZoQnJK7FNAZkT9Nfj8Ox8tuV21pwp/pub?gid=0&single=true&output=csv' },
        'LaLiga': { leagueId: 'SPAIN: LALIGA', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS8ZGW33Hc9fDIq8mJZZqVj8GJdm3p08Jug6e5fTP0-KBtGpFB6BIXgDKkvHqyHnJRKZ9Ba24I3hekV/pub?gid=0&single=true&output=csv' },
        'SerieA': { leagueId: 'ITALY: SERIE A', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRaaFrDXpcgY4EiGwkYfT0zodrVA1GJU2A6qcrc1GcLxkPjHh43ksM3T4c4p5nFdqKJoj96eEpUKST3/pub?gid=0&single=true&output=csv' },
        'Bundesliga': { leagueId: 'GERMANY: BUNDESLIGA', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTwpzErtNqiT5mq4kII0P1OxnY41WAgyY4fi7kiThIgNSgf6lr3kslZ9OBAP3-I2YJ4_aA0p0LNjsaH/pub?gid=0&single=true&output=csv' },
        'Ligue1': { leagueId: 'FRANCE: LIGUE 1', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRD-758CxWtSSl1PCJRdVREjXqhrxTBjYBtnxx4ot8wUdEGfw7ONCzQNfTIdvntZoi1Kme0F7Nkt4Wa/pub?gid=0&single=true&output=csv' },
        'NCAAF': { leagueId: 'USA: NCAAF', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRiThcO5BjAuw3818zbgA9WxlLQFK8T3n5LCPxAihwjANmnxme5ynsLG2EyD2RyPvACe4wGlY36ekF7/pub?gid=0&single=true&output=csv' },
        'WNBA': { leagueId: 'USA: WNBA', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSMWPTh0lOh89-qkXYbx63Vs8FQ7gUoT0333Pa9ZgPg4WWBMgB-xERDMM_U2yIUgS3TSPOXOD5M7sVl/pub?gid=0&single=true&output=csv' },
        'Soccer': { leagueId: 'WORLD: SOCCER', standingsUrl: 'YOUR_SOCCER_STANDINGS_CSV_URL_HERE' },
        'UEFAChampionsLeague': { leagueId: 'EUROPE: UEFA CHAMPIONS LEAGUE', standingsUrl: 'YOUR_UEFACHAMPIONSLEAGUE_STANDINGS_CSV_URL_HERE' },
        'FACup': { leagueId: 'ENGLAND: FA CUP', standingsUrl: 'YOUR_FACUP_STANDINGS_CSV_URL_HERE' },
        'LigaMX': { leagueId: 'MEXICO: LIGA MX', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSL_7HJC0jqhF1jy4tiIrrh5RLewsiH9RezMKDx6TpZtz2JHB8D7Dlx7yyZRWZ7rU5txoTasyiHk7M4/pub?gid=0&single=true&output=csv' },
        'NWSL': { leagueId: 'USA: NWSL', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQJn_hnVeNfnXsDpeer_hgh6dxOcL2VOJzHKsE8cv-OTaX8EzWRYIGNLqLztvuAeuJbM4oEElA-LoiU/pub?gid=0&single=true&output=csv' },
        'UEFAEuropaLeague': { leagueId: 'EUROPE: UEFA EUROPA LEAGUE', standingsUrl: 'YOUR_UEFAEUROPALEAGUE_STANDINGS_CSV_URL_HERE' },
        'UEFAConferenceLeague': { leagueId: 'EUROPE: UEFA CONFERENCE LEAGUE', standingsUrl: 'YOUR_UEFACONFERENCELEAGUE_STANDINGS_CSV_URL_HERE' },
        'FormulaOne': { leagueId: 'WORLD: FORMULA ONE', standingsUrl: 'YOUR_FORMULAONE_STANDINGS_CSV_URL_HERE' },
        'PGATour': { leagueId: 'WORLD: PGA TOUR', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRh72gyQFguMGj0RkHvy-WrAH3EBpOMdikyKIjrOfSs5aAYYlE7NjbRJsBa7gkkJ4gV_nUUYSbCje2L/pub?gid=786471151&single=true&output=csv' },
        'UFC': { leagueId: 'WORLD: UFC', standingsUrl: 'YOUR_UFC_STANDINGS_CSV_URL_HERE' },
        'Boxing': { leagueId: 'WORLD: BOXING', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRthmvN_N-bKFQdsc5V_Otx92FF5qwjYkI9YXHoKgKyV5jvfmb6skABo0Ncbh1x0ehEU-4Je3w_KPmb/pub?gid=1100984840&single=true&output=csv' },
        'NASCARCupSeries': { leagueId: 'USA: NASCAR CUP SERIES', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRzMLdfLfGydr1dpjhS8hr1PLCBod_Jm-J9ABvGaeyhttkAep5HAtWfB5hGeCaLHteZBapJMhNExe0l/pub?gid=0&single=true&output=csv' },
        'Tennis': { leagueId: 'WORLD: TENNIS', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ74Qw3ZgBqRAKd_HVAnGLI9zDqk_JILTBTtlrFKI8oCosRHnLQZ9Nu8BIAVYdLq932wzE8oz3UNCIP/pub?gid=0&single=true&output=csv' },
        'LIVGolf': { leagueId: 'WORLD: LIV GOLF', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTZ7zf4PAme33oOeQ5NFNVE3W1OXJDJ2-qN0_TKLYaditRtpsa7yfxGY3lsGJQxZLQxhIKGzAH7NgBo/pub?gid=0&single=true&output=csv' },
        'IndyCar': { leagueId: 'USA: INDYCAR', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQWqPs7Krfm7U1_bU2MShMSgAGF5RIXqIVUZ6vQO2XWz0waDHd48eiawVeOwXwAkeZBdoNA1X4Mkzs3/pub?gid=0&single=true&output=csv' },
        'NCAAM': { leagueId: 'USA: NCAAM', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRWwuY4T7aQXTeW_8WDncuzDZUAIr9JDhV2MjP4ZFAM0EjuUWgpKBb2sWjI9gZxvqCxnON9JTN7lo2i/pub?gid=0&single=true&output=csv' },
        'NCAAW': { leagueId: 'USA: NCAAW', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRDKX76cBl2tx7s_rW20e2TzKX-uvA6UsPBjsv_UXhhoE8zVmUFJvDaopCxEhaDWyaOtL4wDWSVE6H7/pub?gid=0&single=true&output=csv' },
        'NCAABaseball': { leagueId: 'USA: NCAA BASEBALL', standingsUrl: 'YOUR_NCAABASEBALL_STANDINGS_CSV_URL_HERE' },
        'NCAASoftball': { leagueId: 'USA: NCAA SOFTBALL', standingsUrl: 'YOUR_NCAASOFTBALL_STANDINGS_CSV_URL_HERE' },
        'MotoGP': { leagueId: 'WORLD: MOTOGP', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSqOmundPRaLEu2Jcgt3KBdTRX6jy-Nmkb89fuJC_SfntbZVF_Y-tNehFSnZwqdmK2O3GJR3UlHFXms/pub?gid=0&single=true&output=csv' },
        'LPGATour': { leagueId: 'WORLD: LPGA TOUR', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSgv4aRqL4dKgbADnZNH1e_oR8rgnbGOY9roEzXNVas0C6nlkx3RggqK7RCq0Cl148yFD0DfxAxtK4q/pub?gid=0&single=true&output=csv' },
        'TrackAndField': { leagueId: 'WORLD: TRACK AND FIELD', standingsUrl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRbnsEETRJkJlYNokKws_nlk6-OfyJKg8aoq8AldZZgRcdV5YtuQ1kdINCKvR2H-XQZJVxRxcZaKOq2/pub?gid=2060167316&single=true&output=csv' }
    };
   const LEAGUE_DISPLAY_ORDER = ["NFL", "NBA", "MLB", "Premier League", "UEFA Champions League", "ATP", "WTA", "LaLiga", "WNBA", "Leagues Cup", "NWSL", "Copa Libertadores", "Coppa Italia", "DFB-Pokal", "Brasileirão", "Super Lig", "Copa Sudamericana", "Club Friendly"]; 

    // --- 2. FIREBASE INITIALIZATION (SINGLETON) ---
    if (!firebase.apps.length) {
        const firebaseConfig = {
            apiKey: "AIzaSyD3bw8d4q2oO2qpbgGiUG6Qnlf4aABK3Bc",
            authDomain: "flashlive-daily-scraper.firebaseapp.com",
            projectId: "flashlive-daily-scraper",
            storageBucket: "flashlive-daily-scraper.appspot.com",
            messagingSenderId: "124291936014",
            appId: "1:124291936014:web:acadcaa791d6046849315f"
        };
        firebase.initializeApp(firebaseConfig);
    }
    const db = firebase.firestore();
    const gamesCollectionRef = db.collection("artifacts/flashlive-daily-scraper/public/data/sportsGames");

    // --- 3. ELEMENT REFERENCES ---
    const leagueHeader = document.getElementById('league-specific-header');
    const scheduleContent = document.getElementById('league-schedule-content');
    const standingsContent = document.getElementById('league-standings-content');
    const homeGamesContainer = document.getElementById("games");
    const homeErrorDiv = document.getElementById("error");
    
    // --- 4. HELPER FUNCTIONS ---
    function getLeagueDisplayName(name) {
        const map = { "USA: WNBA": "WNBA", "USA: MLB": "MLB", "USA: NFL": "NFL", "ENGLAND: PREMIER LEAGUE": "Premier League", "USA: NWSL Women": "NWSL", "World: Club Friendly": "Club Friendly", "USA: Cleveland WTA, hard": "WTA", "Germany: DFB Pokal": "DFB-Pokal", "Italy: Coppa Italia": "Coppa Italia", "Turkey: Super Lig": "Super Lig", "Spain: LaLiga": "LaLiga", "England: Premier League": "Premier League", "Europe: Champions League - Qualification": "UEFA Champions League", "Brazil: Serie A Betano": "Brasileirão", "South America: Copa Libertadores - Play Offs": "Copa Libertadores", "North & Central America: Leagues Cup - Play Offs": "Leagues Cup", "South America: Copa Sudamericana - Play Offs": "Copa Sudamericana", "USA: NFL - Pre-season": "NFL" };
        return map[name] || name;
    }
    function getTeamDisplayName(name) {
        let p = name.endsWith(" W") ? name.slice(0, -2) : name;
        const map = { "Arizona Diamondbacks": "Diamondbacks", "Atlanta Braves": "Braves", "Baltimore Orioles": "Orioles", "Boston Red Sox": "Red Sox", "Chicago Cubs": "Cubs", "Chicago White Sox": "White Sox", "Cincinnati Reds": "Reds", "Cleveland Guardians": "Guardians", "Colorado Rockies": "Rockies", "Detroit Tigers": "Tigers", "Houston Astros": "Astros", "Kansas City Royals": "Royals", "Los Angeles Angels": "Angels", "Los Angeles Dodgers": "Dodgers", "Miami Marlins": "Marlins", "Milwaukee Brewers": "Brewers", "Minnesota Twins": "Twins", "New York Mets": "Mets", "New York Yankees": "Yankees", "Athletics": "Athletics", "Philadelphia Phillies": "Phillies", "Pittsburgh Pirates": "Pirates", "San Diego Padres": "Padres", "San Francisco Giants": "Giants", "Seattle Mariners": "Mariners", "St. Louis Cardinals": "Cardinals", "Tampa Bay Rays": "Rays", "Texas Rangers": "Rangers", "Toronto Blue Jays": "Blue Jays", "Washington Nationals": "Nationals", "Atlanta Dream": "Dream", "Chicago Sky": "Sky", "Connecticut Sun": "Sun", "Dallas Wings": "Wings", "Indiana Fever": "Fever", "Las Vegas Aces": "Aces", "Los Angeles Sparks": "Sparks", "Minnesota Lynx": "Lynx", "New York Liberty": "Liberty", "Phoenix Mercury": "Mercury", "Seattle Storm": "Storm", "Washington Mystics": "Mystics" };
        return map[p] || p;
    }
    function getOrdinal(n) {
        const s = ["th", "st", "nd", "rd"], v = n % 100;
        return n + (s[(v - 20) % 10] || s[v] || s[0]);
    }

    // --- 5. CORE RENDERING FUNCTION (Used by BOTH Home and League pages) ---
function renderGames(container, gamesData, isGroupedByLeague) {
    container.innerHTML = "";
    const leagueGroups = {};

    if (isGroupedByLeague) {
        gamesData.forEach(game => {
            const leagueDisplayName = getLeagueDisplayName(game.League) || "Other";
            if (!leagueGroups[leagueDisplayName]) leagueGroups[leagueDisplayName] = [];
            leagueGroups[leagueDisplayName].push(game);
        });
    } else {
        leagueGroups['singleLeague'] = gamesData;
    }

    const sortedLeagueNames = isGroupedByLeague 
        ? Object.keys(leagueGroups).sort((a, b) => (LEAGUE_DISPLAY_ORDER.indexOf(a) === -1 ? 99 : LEAGUE_DISPLAY_ORDER.indexOf(a)) - (LEAGUE_DISPLAY_ORDER.indexOf(b) === -1 ? 99 : LEAGUE_DISPLAY_ORDER.indexOf(b)))
        : ['singleLeague'];

    sortedLeagueNames.forEach(leagueNameKey => {
        const games = leagueGroups[leagueNameKey];
        const leagueSection = document.createElement("div");
        if(isGroupedByLeague) {
            leagueSection.className = "league-section";
            const title = document.createElement("div");
            title.className = "league-title";
            title.textContent = leagueNameKey;
            leagueSection.appendChild(title);
        }

        const table = document.createElement("table");
        table.className = "game-table";
        let lastDisplayedTimeLabel = null;

        games.forEach(data => {
            const home = getTeamDisplayName(data["Home Team"] || "");
            const away = getTeamDisplayName(data["Away Team"] || "");
            const homeScore = data["Home Score"], awayScore = data["Away Score"];
            const matchStatus = (data["Match Status"] || "").toUpperCase();
            const rawStart = data["Start Time"];
            const isLive = matchStatus.includes("IN PROGRESS");
            const isFinal = matchStatus.includes("FINISHED") || matchStatus.includes("FINAL") || matchStatus.includes("GAME OVER");
            let currentTimeLabel = "";

            if (isLive) {
                let parsedStatus = '';
                const displayLeague = getLeagueDisplayName(data.League);
                if (displayLeague === "MLB") {
                    const inningHalf = data.inningHalf || "";
                    const currentInning = data.currentInning || "";
                    if (inningHalf && currentInning) {
                        parsedStatus = `${inningHalf.slice(0,3)} ${currentInning}`;
                    }
                } else if (displayLeague === "WNBA") {
                    const status = data.Status || "";
                    const quarterMatch = status.match(/Q(\d+)/i);
                    if (quarterMatch) {
                        parsedStatus = `Q${quarterMatch[1]}`;
                    } else if (status.toUpperCase() === "HALF_TIME") {
                        parsedStatus = "Half";
                    }
                }
                currentTimeLabel = parsedStatus ? `<span style="color: red;">${parsedStatus}</span>` : '<span style="color: red;">Live</span>';
            } else if (isFinal) {
                currentTimeLabel = "F";
            } else if (rawStart && rawStart.toDate) {
                currentTimeLabel = luxon.DateTime.fromJSDate(rawStart.toDate()).toFormat('h:mm a');
            } else {
                currentTimeLabel = "TBD";
            }

            let displayTimeLabel = currentTimeLabel;
            if (!isLive && !isFinal && currentTimeLabel !== "TBD") {
                if (currentTimeLabel === lastDisplayedTimeLabel) displayTimeLabel = "";
                else lastDisplayedTimeLabel = currentTimeLabel;
            }
            
            // ** This is the section to modify **
            let displayAwayScore = awayScore ?? '';
            let displayHomeScore = homeScore ?? '';
            
            if (!isLive && !isFinal) {
               displayAwayScore = '';
               displayHomeScore = '';
            }

            const row1 = table.insertRow();
            row1.className = "game-row";
            row1.innerHTML = `<td rowspan="2" style="width: 90px; text-align: left; font-size: 12px; vertical-align: top;">${displayTimeLabel}</td><td class="team-cell">${away}</td><td style="width: 40px; text-align: right;">${displayAwayScore}</td>`;
            const row2 = table.insertRow();
            row2.className = "game-row game-separator";
            row2.innerHTML = `<td class="team-cell">${home}</td><td style="text-align: right;">${displayHomeScore}</td>`;
        });
        leagueSection.appendChild(table);
        container.appendChild(leagueSection);
    });
}

    // --- 6. DATA FETCHING FUNCTIONS ---
    
    // --- THIS IS THE NEW SORTING FUNCTION ---
    function sortGames(a, b) {
        const statusA = (a["Match Status"] || "").toUpperCase();
        const statusB = (b["Match Status"] || "").toUpperCase();
        const isFinalA = statusA.includes("FINISHED") || statusA.includes("FINAL");
        const isFinalB = statusB.includes("FINISHED") || statusB.includes("FINAL");

        if (isFinalA && !isFinalB) return 1; // Final games go to the bottom
        if (!isFinalA && isFinalB) return -1; // Non-final games go to the top

        // If both are the same status (both final or both not final), sort by time
        return a["Start Time"].toMillis() - b["Start Time"].toMillis();
    }

    function fetchLeagueSchedule(leagueId, leagueName) {
        scheduleContent.innerHTML = '<p style="color: #9ca3af;">Loading schedule...</p>';
        const { DateTime } = luxon;
        const todayStr = DateTime.now().setZone('America/New_York').toISODate();
        gamesCollectionRef.where('League', '==', leagueId).where('gameDate', '==', todayStr)
            .onSnapshot(snapshot => {
                if (snapshot.empty) {
                    scheduleContent.innerHTML = `<p>No ${leagueName} games found for today.</p>`;
                    return;
                }
                // Apply the new sorting logic here
                const gamesData = snapshot.docs.map(doc => doc.data()).sort(sortGames);
                renderGames(scheduleContent, gamesData, false);
            }, err => { scheduleContent.innerHTML = '<p style="color: #ef4444;">Error loading schedule.</p>'; });
    }

    async function fetchLeagueStandings(url) {
        standingsContent.innerHTML = '<p style="color: #9ca3af;">Loading standings...</p>';
        try {
            if (!url || !url.startsWith('http')) {
                standingsContent.innerHTML = '<p>Standings not available.</p>';
                return;
            }
            const response = await fetch(url);
            if (!response.ok) throw new Error('Network response was not ok');
            const csvText = await response.text();
            const rows = csvText.split(/\r?\n/).map(row => row.split(','));
            if (rows.length < 2) {
                standingsContent.innerHTML = '<p>No standings data available.</p>';
                return;
            }
            let tableHtml = '<table style="width: 100%; border-collapse: collapse; font-size: 11px;"><thead><tr>';
            rows[0].forEach(header => tableHtml += `<th style="padding: 4px; text-align: left; border-bottom: 1px solid #4a4a4a;">${header.trim().replace(/^"|"$/g, '')}</th>`);
            tableHtml += '</tr></thead><tbody>';
            for (let i = 1; i < rows.length; i++) {
                if (rows[i].length < 2) continue;
                tableHtml += `<tr style="border-top: 1px solid #374151;">`;
                rows[i].forEach(cell => tableHtml += `<td style="padding: 4px;">${cell.trim().replace(/^"|"$/g, '')}</td>`);
                tableHtml += '</tr>';
            }
            tableHtml += '</tbody></table>';
            standingsContent.innerHTML = tableHtml;
        } catch (error) { standingsContent.innerHTML = `<p style="color: #ef4444;">Error loading standings.</p>`; }
    }

    function fetchTodayGames() {
        if (!homeGamesContainer || !homeErrorDiv) return;
        homeErrorDiv.textContent = "";
        const { DateTime } = luxon;
        const todayStr = DateTime.now().setZone('America/New_York').toISODate();
        gamesCollectionRef.where('gameDate', '==', todayStr) // Removed orderBy here, will sort in code
            .onSnapshot(snapshot => {
                if (snapshot.empty) {
                    homeGamesContainer.innerHTML = `<p style="padding: 10px;">No games found for today.</p>`;
                    return;
                }
                // Apply the new sorting logic here as well
                const gamesData = snapshot.docs.map(doc => doc.data()).sort(sortGames);
                renderGames(homeGamesContainer, gamesData, true);
            }, err => { homeErrorDiv.textContent = "Failed to load real-time data."; });
    }
    
    // --- 7. MAIN CONTROLLER FUNCTION (called by your site) ---
    window.loadLeagueSpecificData = function(leagueKey) {
        const leagueInfo = LEAGUE_DATA_CONFIG[leagueKey];
        if (!leagueInfo) return;
        if (leagueHeader) leagueHeader.innerText = leagueKey;
        fetchLeagueSchedule(leagueInfo.leagueId, leagueKey);
        fetchLeagueStandings(leagueInfo.standingsUrl);
    }

    // --- 8. INITIALIZE HOME PAGE TABS ---
    const gamesTabs = document.querySelectorAll('.games-tab');
    if (gamesTabs.length > 0) {
        let todayGamesIntervalId = null;
        gamesTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTabId = tab.dataset.tab;
                gamesTabs.forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.games-content').forEach(c => c.style.display = 'none');
                tab.classList.add('active');
                const targetContentDiv = document.getElementById(`tv-listings-${targetTabId}`);
                if (targetContentDiv) targetContentDiv.style.display = 'block';
                if (todayGamesIntervalId) clearInterval(todayGamesIntervalId);
                if (targetTabId === 'scores') {
                    // Your fetchYesterdayScores() function can be pasted here
                } else if (targetTabId === 'today') {
                    fetchTodayGames();
                    todayGamesIntervalId = setInterval(fetchTodayGames, 30000);
                }
            });
        });
        const todayTab = document.querySelector('.games-tab[data-tab="today"]');
        if (todayTab) todayTab.click();
    }
});
</script>   
 
  </body>
</html>

    
